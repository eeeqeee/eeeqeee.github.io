"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[476,923],{18726:function(e,n,t){t.d(n,{Z:function(){return a}});var i=t(64554),s=t(20890),r=t(80184);function a(e){var n=e.avatar,t=e.title,a=e.action;return(0,r.jsxs)(i.Z,{display:"flex",gap:1,p:2,alignItems:"center",children:[n,(0,r.jsx)(s.Z,{variant:"subtitle1",sx:{flexGrow:1},children:t}),a&&(0,r.jsx)(s.Z,{variant:"caption",children:a})]})}},37503:function(e,n,t){t.d(n,{X:function(){return O},Z:function(){return W}});var i=t(64554),s=t(20890),r=t(94721),a=t(72791),o=t(13746),c=t(60393),l=t(3992),d=t(18726),u=t(39504),x=t(88034),h=t(29439),f=t(72247),v=t(9912),p=t(24518),j=t(23786),Z=t(2199),m=t(97714),b=t(33890),g=t(25617),C=t(66624),y=t(80184);function k(e){var n=e.conditional,t=e.disabled,i=void 0!==t&&t;return 1===Object.keys(n.states).length&&"path"in n?(0,y.jsx)(w,{conditional:n,disabled:i}):"path"in n?(0,y.jsx)(D,{conditional:n,disabled:i}):(0,y.jsx)(P,{conditional:n,disabled:i})}function w(e){var n=e.conditional,t=e.disabled,i=(0,a.useContext)(m.K),s=i.character,r=i.characterDispatch,l=(0,a.useContext)(o.R).data,d=(0,a.useCallback)((function(e){var t=(0,c.I8)(s.conditional);e?(0,c.SR)(t,n.path,e):(0,c.uH)(t,n.path),r({conditional:t})}),[n,s,r]),u=l.get(n.value).value,x=(0,h.Z)(Object.entries(n.states)[0],2),j=x[0],Z=H(x[1].name),b=I(n.name);return(0,y.jsxs)(p.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:u?"success":"primary",onClick:function(){return d(u?void 0:j)},disabled:t,startIcon:u?(0,y.jsx)(f.Z,{}):(0,y.jsx)(v.Z,{}),children:[b," ",Z]})}function D(e){var n=e.conditional,t=e.disabled,i=(0,a.useContext)(m.K),s=i.character,l=i.characterDispatch,d=(0,a.useContext)(o.R).data,u=(0,a.useCallback)((function(e){var t=(0,c.I8)(s.conditional);e?(0,c.SR)(t,n.path,e):(0,c.uH)(t,n.path),l({conditional:t})}),[n,s,l]),x=d.get(n.value).value,f=x?n.states[x]:void 0,v=f?H(f.name):(0,y.jsx)(g.Z,{color:"secondary",children:"Not Active"}),p=I(n.name);return(0,y.jsxs)(b.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:x?"success":"primary",title:(0,y.jsxs)("span",{children:[p," ",v]}),disabled:t,children:[(0,y.jsx)(j.Z,{onClick:function(){return u()},selected:!f,disabled:!f,children:(0,y.jsx)("span",{children:"Not Active"})}),(0,y.jsx)(r.Z,{}),Object.entries(n.states).map((function(e){var n=(0,h.Z)(e,2),t=n[0],i=n[1];return(0,y.jsx)(j.Z,{onClick:function(){return u(t)},selected:x===t,disabled:x===t,children:i.name},t)}))]})}function P(e){var n=e.conditional,t=e.disabled,i=(0,a.useContext)(m.K),s=i.character,r=i.characterDispatch,l=(0,a.useContext)(o.R).data,d=(0,a.useCallback)((function(e,n){var t=(0,c.I8)(s.conditional);n?(0,c.SR)(t,e,n):(0,c.uH)(t,e),r({conditional:t})}),[s,r]);return(0,y.jsx)(Z.Z,{fullWidth:!0,orientation:"vertical",disableElevation:!0,color:"secondary",children:Object.entries(n.states).map((function(e){var n=(0,h.Z)(e,2),i=n[0],s=n[1],r=l.get(s.value).value,a=r===i;return(0,y.jsx)(p.Z,{color:a?"success":"primary",disabled:t,fullWidth:!0,onClick:function(){return d(s.path,r?void 0:i)},size:"small",startIcon:a?(0,y.jsx)(f.Z,{}):(0,y.jsx)(v.Z,{}),sx:{borderRadius:0},children:I(s.name)},i)}))})}function R(e){return"string"!==typeof e}function H(e){if(!e)return"";var n="primary",t=e;return e&&R(e)&&e.props.color&&(n=e.props.color,t=(0,y.jsx)("span",{children:e.props.children})),(0,y.jsx)(g.Z,{sx:{ml:.5},color:n,children:t})}function I(e){if(R(e)){var n=e.props.key18,t=e.props.ns,i=e.props.values;return(0,y.jsx)(C.v,{ns:t,key18:n,values:i,useBadge:!0})}return e}function S(e){var n,t=e.conditional,i=e.hideHeader,s=void 0!==i&&i,r=e.hideDesc,d=void 0!==r&&r,h=(0,a.useContext)(o.R).data;if("path"in t){var f,v=h.get(t.value).value;n=v&&(null===(f=t.states[v])||void 0===f?void 0:f.fields)}else n=Object.values(t.states).flatMap((function(e){return h.get(e.value).value?e.fields:[]}));return(0,y.jsxs)(l.Z,{children:[!(0,c.mY)(s,t)&&(0,y.jsx)(O,{header:t.header,hideDesc:d}),(0,y.jsx)(u.Z,{sx:{p:0,"&:last-child":{pb:0}},children:(0,y.jsx)(k,{conditional:t})}),n&&(0,y.jsx)(x.ZP,{fields:n})]})}var B=t(55221);function W(e){var n=e.sections,t=e.teamBuffOnly,s=e.hideDesc,r=void 0!==s&&s,c=e.hideHeader,l=void 0!==c&&c,d=(0,a.useContext)(o.R).data;if(!n.length)return null;var u=n.map((function(e,n){return e.canShow&&!d.get(e.canShow).value||t&&!e.teamBuff?null:(0,y.jsx)(L,{section:e,hideDesc:r,hideHeader:l},n)})).filter((function(e){return e}));return u.length?(0,y.jsx)(i.Z,{display:"flex",flexDirection:"column",gap:1,children:u}):null}function L(e){var n=e.section,t=e.hideDesc,i=void 0!==t&&t,s=e.hideHeader,r=void 0!==s&&s;return"fields"in n?(0,y.jsx)(z,{section:n,hideDesc:i,hideHeader:r}):"states"in n?(0,y.jsx)(S,{conditional:n,hideDesc:i,hideHeader:r}):(0,y.jsx)(N,{section:n})}function z(e){var n=e.section,t=e.hideDesc,i=e.hideHeader;return(0,y.jsxs)(l.Z,{children:[!(0,c.mY)(i,n)&&n.header&&(0,y.jsx)(O,{header:n.header,hideDesc:t,hideDivider:0===n.fields.length}),(0,y.jsx)(x.ZP,{fields:n.fields})]})}function N(e){var n=e.section,t=(0,a.useContext)(o.R).data;return(0,y.jsx)("div",{children:(0,c.mY)(n.text,t)})}function O(e){var n=e.header,t=e.hideDesc,i=e.hideDivider,l=(0,a.useContext)(o.R).data,u=n.icon,x=n.title,h=n.action;u=(0,c.mY)(u,l);var f=!t&&(0,c.mY)(n.description,l),v=t?x:(0,y.jsxs)("span",{children:[x," ",(0,y.jsx)(B.Z,{title:(0,y.jsx)(s.Z,{children:f})})]});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(d.Z,{avatar:u,title:v,action:h}),!i&&(0,y.jsx)(r.Z,{})]})}},55221:function(e,n,t){var i=t(1413),s=t(45987),r=t(53174),a=t(54483),o=t(64554),c=t(96106),l=t(80184),d=["className"];n.Z=function(e){var n=e.className,t=(0,s.Z)(e,d);return(0,l.jsx)(c.Z,(0,i.Z)((0,i.Z)({placement:"top"},t),{},{className:n,children:(0,l.jsx)(o.Z,{component:"span",sx:{cursor:"help"},children:(0,l.jsx)(a.G,{icon:r.sqG})})}))}},29371:function(e,n,t){t.d(n,{Z:function(){return v}});var i=t(29439),s=t(93433),r=t(2199),a=t(24518),o=t(23786),c=t(72791),l=t(22020),d=t(2139),u=t(60393),x=t(10600),h=t(33890),f=t(80184);function v(e){var n=e.level,t=e.ascension,v=e.setBoth,p=e.useLow,j=void 0!==p&&p,Z=(0,l.$)("ui").t,m=j?d.sU:d.SJ,b=(0,c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e=(0,u.uZ)(e,1,j?d.d8:d.Qq);var n=m.findIndex((function(n){return e<=n}));v({level:e,ascension:n})}),[v,m,j]),g=(0,c.useCallback)((function(){var e=m.findIndex((function(e){return 90!==n&&n===e}));v(t===e?{ascension:t+1}:{ascension:e})}),[v,m,t,n]);return(0,f.jsxs)(r.Z,{sx:{bgcolor:function(e){return e.palette.contentDark.main}},children:[(0,f.jsx)(x.CC,{children:(0,f.jsx)(x.ZP,{onChange:b,value:n,startAdornment:"Lv. ",inputProps:{min:1,max:90,sx:{textAlign:"center",width:"3em"}},sx:{height:"100%",pl:2}})}),(0,f.jsx)(a.Z,{sx:{pl:1,whiteSpace:"nowrap"},disabled:!(j?d.nB:d.ek)(n),onClick:g,children:(0,f.jsxs)("strong",{children:["/ ",d.SJ[t]]})}),(0,f.jsx)(h.Z,{title:Z("selectlevel"),sx:{flexGrow:1},children:(0,s.Z)(j?d.vF:d.D4).map((function(e){var s=(0,i.Z)(e,2),r=s[0],a=s[1],c=r===n&&a===t;return(0,f.jsx)(o.Z,{selected:c,disabled:c,onClick:function(){return v({level:r,ascension:a})},children:r===m[a]?"Lv. ".concat(r):"Lv. ".concat(r,"/").concat(m[a])},"".concat(r,"/").concat(a))}))})]})}},6805:function(e,n,t){t.d(n,{Z:function(){return c}});var i=t(23786),s=t(22020),r=t(24351),a=t(33890),o=t(80184);function c(e){var n=e.refinement,t=e.setRefinement,c=(0,s.$)("ui").t;return(0,o.jsx)(a.Z,{title:c("refinement",{value:n}),children:r.a.map((function(e){return(0,o.jsx)(i.Z,{onClick:function(){return t(e)},selected:n===e,disabled:n===e,children:c("refinement",{value:e})},e)}))})}},74476:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var i=t(29439),s=t(40117),r=t(62002),a=t(39504),o=t(61889),c=t(64554),l=t(20890),d=t(2199),u=t(24518),x=t(9585),h=t(94721),f=t(15021),v=t(72791),p=t(3992),j=t(71310),Z=t(30066),m=t(68198),b=t(37503),g=t(88034),C=t(29371),y=t(9321),k=t(6805),w=t(10157),D=t(13746),P=t(60705),R=t(947),H=t(2139),I=t(66218),S=t(66101),B=t(27235),W=t(73036),L=t(24711),z=t(12761),N=t(42320),O=t(74480),F=t(80184),G=v.lazy((function(){return t.e(409).then(t.bind(t,44361))}));function K(e){var n,t=e.weaponId,K=e.footer,M=void 0!==K&&K,T=e.onClose,Y=e.extraButtons,A=(0,v.useContext)(D.R).data,J=(0,v.useContext)(P.M).setFormulaData,q=(0,v.useContext)(S.t).database,E=(0,O.Z)(t),V=null!==E&&void 0!==E?E:{},U=V.key,$=void 0===U?"":U,_=V.level,Q=void 0===_?0:_,X=V.refinement,ee=void 0===X?1:X,ne=V.ascension,te=void 0===ne?0:ne,ie=V.lock,se=V.location,re=void 0===se?"":se,ae=V.id,oe=(0,N.Z)((function(){return I.Z.get($)}),[$]),ce=(0,v.useCallback)((function(e){q.weapons.set(t,e)}),[t,q]),le=(0,z.Z)().gender,de=(0,N.Z)((function(){return re?R.Z.get(q.chars.LocationToCharacterKey(re),le):void 0}),[q,le,re]),ue=de&&de.weaponTypeKey,xe=(0,v.useCallback)((function(e){return ae&&q.weapons.set(ae,{location:e})}),[q,ae]),he=(0,v.useCallback)((function(e){return e.weaponTypeKey===(null===oe||void 0===oe?void 0:oe.weaponType)}),[oe]),fe=(0,L.Z)(),ve=(0,i.Z)(fe,3),pe=ve[0],je=ve[1],Ze=ve[2],me=null===oe||void 0===oe?void 0:oe.getImg(te);(0,v.useEffect)((function(){if(oe&&ce&&oe.key===(null===E||void 0===E?void 0:E.key)&&oe.rarity<=2&&(Q>70||te>4)){var e=(0,i.Z)(H.vF[0],2),n=e[0],t=e[1];ce({level:n,ascension:t})}}),[oe,E,ce,Q,te]);var be=(0,v.useMemo)((function(){return oe&&E&&(0,W.mP)([oe.data,(0,W.v0)(E)])}),[oe,E]);return(0,F.jsx)(y.Z,{open:!!t,onClose:T,containerProps:{maxWidth:"md"},children:(0,F.jsxs)(j.Z,{children:[(0,F.jsx)(G,{ascension:te,show:pe,onHide:Ze,onSelect:function(e){return ce({key:e})},weaponTypeFilter:ue}),(0,F.jsx)(a.Z,{children:oe&&be&&(0,F.jsxs)(o.ZP,{container:!0,spacing:1.5,children:[(0,F.jsx)(o.ZP,{item:!0,xs:12,sm:3,children:(0,F.jsxs)(o.ZP,{container:!0,spacing:1.5,children:[(0,F.jsx)(o.ZP,{item:!0,xs:6,sm:12,children:(0,F.jsx)(c.Z,{component:"img",src:me,className:"grad-".concat(oe.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,F.jsx)(o.ZP,{item:!0,xs:6,sm:12,children:(0,F.jsx)(l.Z,{children:(0,F.jsx)("small",{children:oe.description})})})]})}),(0,F.jsxs)(o.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,F.jsx)(c.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(u.Z,{color:"info",onClick:je,children:null!==(n=null===oe||void 0===oe?void 0:oe.name)&&void 0!==n?n:"Select a Weapon"}),(null===oe||void 0===oe?void 0:oe.hasRefinement)&&(0,F.jsx)(k.Z,{refinement:ee,setRefinement:function(e){return ce({refinement:e})}}),Y]})}),(0,F.jsxs)(c.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[oe&&(0,F.jsx)(C.Z,{level:Q,ascension:te,setBoth:ce,useLow:!oe.hasRefinement}),(0,F.jsx)(u.Z,{color:"error",onClick:function(){return ae&&q.weapons.set(ae,{lock:!ie})},startIcon:ie?(0,F.jsx)(s.Z,{}):(0,F.jsx)(r.Z,{}),children:ie?"Locked":"Unlocked"})]}),(0,F.jsx)(l.Z,{children:(0,F.jsx)(w.q,{stars:oe.rarity})}),(0,F.jsx)(l.Z,{variant:"subtitle1",children:(0,F.jsx)("strong",{children:oe.passiveName})}),(0,F.jsx)(l.Z,{gutterBottom:!0,children:oe.passiveName&&oe.passiveDescription(be.get(B.ri.weapon.refineIndex).value)}),(0,F.jsxs)(c.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,F.jsxs)(p.Z,{children:[(0,F.jsx)(x.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,F.jsx)(h.Z,{}),(0,F.jsx)(g.lD,{children:[B.ri.weapon.main,B.ri.weapon.sub,B.ri.weapon.sub2].map((function(e){var n=be.get(e);return n.isEmpty||!n.value?null:(0,F.jsx)(g.JW,{node:n,component:f.ZP,data:A,setFormulaData:J},JSON.stringify(n.info))}))})]}),A&&oe.document&&(0,F.jsx)(b.Z,{sections:oe.document})]})]})]})}),M&&ae&&(0,F.jsx)(a.Z,{sx:{py:1},children:(0,F.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,F.jsx)(o.ZP,{item:!0,flexGrow:1,children:(0,F.jsx)(Z.W,{location:re,setLocation:xe,filter:he,autoCompleteProps:{getOptionDisabled:function(e){return!e.key},disableClearable:!0}})}),(0,F.jsx)(o.ZP,{item:!0,flexGrow:2}),!!T&&(0,F.jsx)(o.ZP,{item:!0,children:(0,F.jsx)(m.Z,{sx:{height:"100%"},large:!0,onClick:T})})]})})]})})}},72247:function(e,n,t){var i=t(74223),s=t(80184);n.Z=(0,i.Z)((0,s.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox")},9912:function(e,n,t){var i=t(74223),s=t(80184);n.Z=(0,i.Z)((0,s.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank")}}]);
//# sourceMappingURL=476.d6237ce1.chunk.js.map