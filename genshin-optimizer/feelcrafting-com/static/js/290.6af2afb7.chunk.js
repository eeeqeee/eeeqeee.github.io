"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[290],{52991:function(e,t,n){n.d(t,{Z:function(){return ArtifactCardPico}});var a=n(64554),r=n(20890),i=n(10658),o=n(98620),c=n(31148),s=n(42320),l=n(24351),u=n(3992),d=n(25617),h=n(75545),f=n(64929),x=n(80184);function ArtifactCardPico(e){var t=e.artifactObj,n=e.slotKey,p=(0,s.Z)((function(){return(null===t||void 0===t?void 0:t.setKey)&&c.y.get(t.setKey)}),[null===t||void 0===t?void 0:t.setKey]);if(!t||!p)return(0,x.jsx)(u.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:(0,x.jsx)(a.Z,{sx:{width:"100%",pb:"100%",position:"relative"},children:(0,x.jsx)(a.Z,{sx:{position:"absolute",width:"70%",height:"70%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",opacity:.7},component:"img",src:i.Z.slot[n]})})});var m=t.mainStatKey,g=t.rarity,Z=t.level,v=l.Kj.find((function(e){return t.mainStatKey.includes(e)})),y=null!==v&&void 0!==v?v:"secondary";return(0,x.jsx)(f.Z,{art:t,children:(0,x.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",position:"relative"},children:[(0,x.jsx)(a.Z,{component:"img",className:"grad-".concat(g,"star"),src:p.slotIcons[n],maxWidth:"100%",maxHeight:"100%"}),(0,x.jsx)(r.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none"},children:(0,x.jsx)("strong",{children:(0,x.jsx)(d.Z,{sx:{p:.5},color:o.ZP.levelVariant(Z),children:(0,x.jsxs)("strong",{children:["+",Z]})})})}),(0,x.jsx)(r.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",bottom:0,right:0},children:(0,x.jsx)(d.Z,{color:y,sx:{p:.5},children:h.Z[m]})})]})})}},64929:function(e,t,n){n.d(t,{Z:function(){return ArtifactTooltip}});var a=n(64554),r=n(47047),i=n(20890),o=n(72791),c=n(98620),s=n(31148),l=n(79406),u=n(42320),d=n(60393),h=n(96106),f=n(25617),x=n(10157),p=n(75545),m=n(95614),g=n(80184);function ArtifactTooltip(e){var t=e.art,n=e.children,i=(0,g.jsx)(a.Z,{children:(0,g.jsx)(r.Z,{variant:"rectangular",width:100,height:100})}),c=(0,g.jsx)(o.Suspense,{fallback:i,children:(0,g.jsx)(ArtifactData,{art:t})});return(0,g.jsx)(h.Z,{placement:"top",title:c,disableInteractive:!0,children:n})}function ArtifactData(e){var t,n=e.art,r=(0,u.Z)((function(){return s.y.get(n.setKey)}),[n.setKey]),o=n.slotKey,h=n.level,Z=n.rarity,v=n.mainStatKey,y=n.substats,j=null===r||void 0===r?void 0:r.getSlotName(o),C=l.ZP.unit(v),w=p.Z[v],b=l.ZP.getVariant(v);return(0,g.jsxs)(a.Z,{p:1,children:[(0,g.jsxs)(i.Z,{variant:"h6",children:[(0,m.Ir)(o)," ",j]}),(0,g.jsxs)(i.Z,{variant:"subtitle1",color:"".concat(b,".main"),children:[w," ",l.ZP.get(v)," ",(0,l.qs)(null!==(t=c.ZP.mainStatValue(v,Z,h))&&void 0!==t?t:0,l.ZP.unit(v)),C]}),(0,g.jsxs)(i.Z,{variant:"subtitle2",sx:{display:"flex",justifyContent:"space-between"},children:[(0,g.jsx)(x.q,{stars:Z}),(0,g.jsxs)(f.Z,{color:c.ZP.levelVariant(h),children:["+",h]})," "]}),(0,g.jsx)(a.Z,{py:1,children:y.map((function(e){return!!e.value&&(0,g.jsxs)(i.Z,{color:"roll".concat((0,d.uZ)(e.rolls.length,1,6),".main"),children:[p.Z[e.key]," ",l.ZP.getStr(e.key)," ",(0,g.jsx)("strong",{children:"+".concat((0,l.qs)(e.value,l.ZP.unit(e.key))).concat(l.ZP.unit(e.key))})]},e.key)}))}),(0,g.jsx)(i.Z,{color:"success.main",children:null===r||void 0===r?void 0:r.name})]})}},30865:function(e,t,n){n.d(t,{Z:function(){return CharacterCard}});var a=n(29439),r=n(14361),i=n(90690),o=n(66647),c=n(47047),s=n(64554),l=n(13400),u=n(39504),d=n(61889),h=n(81918),f=n(20890),x=n(72791),p=n(97714),m=n(13746),g=n(60705),Z=n(947),v=n(2139),y=n(66101),j=n(27235),C=n(13434),w=n(50920),b=n(65106),S=n(12761),k=n(42320),K=n(47639),D=n(24351),H=n(60393),P=n(52991),_=n(71310),q=n(20005),T=n(88034),W=n(25617),I=n(10157),B=n(77208),E=n(66218),M=n(73036),R=n(18327),O=n(74480),N=n(3992),z=n(80184);function WeaponFullCard(e){var t=e.weaponId,n=(0,O.Z)(t),a=(0,k.Z)((function(){return(null===n||void 0===n?void 0:n.key)&&E.Z.get(n.key)}),[null===n||void 0===n?void 0:n.key]),r=(0,x.useMemo)((function(){return a&&n&&(0,M.mP)([a.data,(0,M.v0)(n)])}),[a,n]);return n&&a&&r?(0,z.jsx)(N.Z,{children:(0,z.jsxs)(s.Z,{display:"flex",children:[(0,z.jsx)(s.Z,{flexShrink:1,maxWidth:"35%",display:"flex",flexDirection:"column",alignContent:"flex-end",className:"grad-".concat(a.rarity,"star"),children:(0,z.jsx)(s.Z,{component:"img",src:a.getImg(n.ascension),width:"100%",height:"auto",sx:{mt:"auto"}})}),(0,z.jsxs)(s.Z,{flexGrow:1,sx:{p:1},children:[(0,z.jsx)(f.Z,{variant:"body2",gutterBottom:!0,children:(0,z.jsx)("strong",{children:null===a||void 0===a?void 0:a.name})}),(0,z.jsxs)(f.Z,{variant:"subtitle1",sx:{display:"flex",gap:1},gutterBottom:!0,children:[(0,z.jsxs)(W.Z,{color:"primary",children:["Lv. ",E.Z.getLevelString(n)]}),a.hasRefinement&&(0,z.jsxs)(W.Z,{color:"info",children:["R",n.refinement]})]}),(0,z.jsxs)(f.Z,{variant:"subtitle1",sx:{display:"flex",gap:1},children:[(0,z.jsx)(WeaponStat,{node:r.get(j.ri.weapon.main)}),(0,z.jsx)(WeaponStat,{node:r.get(j.ri.weapon.sub)})]})]})]})}):null}function WeaponStat(e){var t=e.node;return(0,z.jsxs)(W.Z,{color:"secondary",children:[t.info.icon," ",(0,R.p)(t)]})}var A=n(84684);function CharacterCard(e){var t,n,a=e.characterKey,u=e.artifactChildren,d=e.weaponChildren,h=e.characterChildren,f=e.onClick,p=e.onClickHeader,g=e.onClickTeammate,v=e.footer,j=e.hideStats,D=e.isTeammateCard,H=(0,x.useContext)(y.t).database,P=(0,x.useContext)(m.R).teamData,T=null!==(t=(0,K.Z)(P?"":a))&&void 0!==t?t:P,W=(0,C.Z)(a),I=(0,S.Z)().gender,B=(0,k.Z)((function(){return Z.Z.get(a,I)}),[a,I]),E=(0,w.Z)(a),M=null===T||void 0===T||null===(n=T[a])||void 0===n?void 0:n.target,R=(0,x.useCallback)((function(){return a&&(null===f||void 0===f?void 0:f(a))}),[a,f]),O=(0,x.useCallback)((function(e){return(0,z.jsx)(o.Z,{onClick:R,sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[R]),N=(0,x.useMemo)((function(){return W&&B&&{character:W,characterSheet:B,characterDispatch:E}}),[W,B,E]),A=(0,x.useMemo)((function(){return M&&T&&{data:M,teamData:T}}),[M,T]),F=(0,b.Z)(a).favorite;return(0,z.jsx)(x.Suspense,{fallback:(0,z.jsx)(c.Z,{variant:"rectangular",width:300,height:600}),children:(0,z.jsxs)(_.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,z.jsx)(s.Z,{sx:{display:"flex",position:"absolute",zIndex:2,opacity:.7},children:(0,z.jsx)(l.Z,{sx:{p:.5},onClick:function onClick(e){return H.charMeta.set(a,{favorite:!F})},children:F?(0,z.jsx)(r.Z,{}):(0,z.jsx)(i.Z,{})})}),(0,z.jsx)(q.Z,{condition:!!f,wrapper:O,children:W&&A&&N?(0,z.jsx)(ExistingCharacterCardContent,{characterContextObj:N,dataContextObj:A,characterKey:a,onClick:f,onClickHeader:p,isTeammateCard:D,character:W,onClickTeammate:g,hideStats:j,weaponChildren:d,artifactChildren:u,characterChildren:h}):(0,z.jsx)(NewCharacterCardContent,{characterKey:a})}),v]})})}function ExistingCharacterCardContent(e){var t=e.characterContextObj,n=e.dataContextObj,a=e.characterKey,r=e.onClick,i=e.onClickHeader,o=e.isTeammateCard,c=e.character,s=e.onClickTeammate,l=e.hideStats,h=e.weaponChildren,f=e.artifactChildren,x=e.characterChildren;return(0,z.jsx)(p.K.Provider,{value:t,children:(0,z.jsxs)(m.R.Provider,{value:n,children:[(0,z.jsx)(Header,{characterKey:a,onClick:r?void 0:i,children:(0,z.jsx)(HeaderContent,{})}),(0,z.jsxs)(u.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:1,flexGrow:1},children:[(0,z.jsx)(Artifacts,{}),!o&&(0,z.jsxs)(d.ZP,{container:!0,columns:4,spacing:.75,children:[(0,z.jsx)(d.ZP,{item:!0,xs:1,height:"100%",children:(0,z.jsx)(B.Z,{weaponId:c.equippedWeapon})}),(0,H.w6)(0,2).map((function(e){return(0,z.jsx)(d.ZP,{item:!0,xs:1,height:"100%",children:(0,z.jsx)(A.Z,{characterKey:c.team[e],onClick:r?void 0:s,index:e})},e)}))]}),o&&(0,z.jsx)(WeaponFullCard,{weaponId:c.equippedWeapon}),!o&&!l&&(0,z.jsx)(Stats,{}),h,f,x]})]})})}function NewCharacterCardContent(e){var t=e.characterKey;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Header,{characterKey:t,children:(0,z.jsx)(HeaderContentNew,{characterKey:t})}),(0,z.jsx)(u.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:1,flexGrow:1,height:"100%"}})]})}function Header(e){var t=e.children,n=e.characterKey,a=e.onClick,r=(0,S.Z)().gender,i=(0,k.Z)((function(){return Z.Z.get(n,r)}),[n,r]),c=(0,x.useCallback)((function(e){return(0,z.jsx)(o.Z,{onClick:function onClick(){return n&&(null===a||void 0===a?void 0:a(n))},sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})}),[a,n]);return i?(0,z.jsx)(q.Z,{condition:!!a,wrapper:c,children:(0,z.jsxs)(s.Z,{display:"flex",position:"relative",className:"grad-".concat(i.rarity,"star"),sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,backgroundImage:"url(".concat(i.bannerImg,")"),backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[(0,z.jsx)(s.Z,{flexShrink:1,sx:{maxWidth:{xs:"40%",lg:"40%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:(0,z.jsx)(s.Z,{component:"img",src:i.thumbImg,width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),(0,z.jsx)(s.Z,{flexGrow:1,sx:{py:1,pr:1},display:"flex",flexDirection:"column",zIndex:1,children:t})]})}):null}function HeaderContent(){var e=(0,x.useContext)(p.K).characterSheet,t=(0,x.useContext)(m.R).data,n=t.get(j.ri.charEle).value,a=t.get(j.ri.lvl).value,r=t.get(j.ri.constellation).value,i=t.get(j.ri.asc).value,o=t.get(j.ri.bonus.auto).value,c=t.get(j.ri.bonus.skill).value,s=t.get(j.ri.bonus.burst).value,l=t.get(j.ri.total.auto).value,u=t.get(j.ri.total.skill).value,g=t.get(j.ri.total.burst).value;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(h.Z,{label:(0,z.jsx)(f.Z,{variant:"subtitle1",children:e.name}),size:"small",color:n,sx:{opacity:.85}}),(0,z.jsxs)(d.ZP,{container:!0,spacing:1,flexWrap:"nowrap",children:[(0,z.jsxs)(d.ZP,{item:!0,sx:{textShadow:"0 0 5px gray"},children:[(0,z.jsxs)(f.Z,{component:"span",variant:"h6",whiteSpace:"nowrap",children:["Lv. ",a]}),(0,z.jsxs)(f.Z,{component:"span",variant:"h6",color:"text.secondary",children:["/",v.SJ[i]]})]}),(0,z.jsx)(d.ZP,{item:!0,children:(0,z.jsx)(f.Z,{variant:"h6",children:(0,z.jsxs)(W.Z,{children:["C",r]})})})]}),(0,z.jsxs)(d.ZP,{container:!0,spacing:1,flexWrap:"nowrap",children:[(0,z.jsx)(d.ZP,{item:!0,children:(0,z.jsx)(h.Z,{color:o?"info":"secondary",label:(0,z.jsx)("strong",{children:l})})}),(0,z.jsx)(d.ZP,{item:!0,children:(0,z.jsx)(h.Z,{color:c?"info":"secondary",label:(0,z.jsx)("strong",{children:u})})}),(0,z.jsx)(d.ZP,{item:!0,children:(0,z.jsx)(h.Z,{color:s?"info":"secondary",label:(0,z.jsx)("strong",{children:g})})})]}),(0,z.jsx)(f.Z,{mt:1,children:(0,z.jsx)(I.q,{stars:e.rarity,colored:!0})})]})}function HeaderContentNew(e){var t=e.characterKey,n=(0,x.useContext)(y.t).database,a=(0,S.Z)().gender,r=(0,k.Z)((function(){return Z.Z.get(t,a)}),[t,n,a]);return r?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(h.Z,{label:(0,z.jsx)(f.Z,{variant:"subtitle1",children:r.name}),size:"small",color:r.elementKey,sx:{opacity:.85}}),(0,z.jsx)(s.Z,{mt:1,children:(0,z.jsx)(f.Z,{variant:"h4",children:(0,z.jsx)(W.Z,{children:"NEW"})})}),(0,z.jsx)(f.Z,{mt:1.5,children:(0,z.jsx)(I.q,{stars:r.rarity,colored:!0})})]}):null}function Artifacts(){var e=(0,x.useContext)(y.t).database,t=(0,x.useContext)(m.R).data,n=(0,x.useMemo)((function(){return D.eV.map((function(n){var a;return[n,e.arts.get(null!==(a=t.get(j.ri.art[n].id).value)&&void 0!==a?a:"")]}))}),[t,e]);return(0,z.jsx)(d.ZP,{direction:"row",container:!0,spacing:.75,columns:5,children:n.map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return(0,z.jsx)(d.ZP,{item:!0,xs:1,children:(0,z.jsx)(P.Z,{artifactObj:r,slotKey:n})},n)}))})}function Stats(){var e=(0,x.useContext)(m.R).data,t=(0,x.useContext)(g.M).setFormulaData;return(0,z.jsxs)(s.Z,{sx:{width:"100%"},children:[Object.values(e.getDisplay().basic).map((function(n){return(0,z.jsx)(T.JW,{node:n,data:e,setFormulaData:t},JSON.stringify(n.info))})),e.get(j.ri.special).info.name&&(0,z.jsxs)(s.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,z.jsx)(f.Z,{flexGrow:1,children:(0,z.jsx)("strong",{children:"Specialized:"})}),e.get(j.ri.special).info.icon,(0,z.jsx)(f.Z,{children:e.get(j.ri.special).info.name})]})]})}},84684:function(e,t,n){n.d(t,{Z:function(){return CharacterCardPico}});var a=n(66647),r=n(47047),i=n(20890),o=n(64554),c=n(72791),s=n(10658),l=n(947),u=n(2139),d=n(13434),h=n(12761),f=n(42320),x=n(96106),p=n(3992),m=n(20005),g=n(25617),Z=n(75545),v=n(80184);function CharacterCardPico(e){var t=e.characterKey,n=void 0===t?"":t,y=e.index,j=void 0===y?-1:y,C=e.onClick,w=(0,h.Z)().gender,b=(0,f.Z)((function(){return l.Z.get(n,w)}),[n,w]),S=(0,d.Z)(n),k=(0,c.useCallback)((function(){return n&&(null===C||void 0===C?void 0:C(n))}),[n,C]),K=(0,c.useCallback)((function(e){return(0,v.jsx)(a.Z,{onClick:k,children:e})}),[k]);if(b&&S){var D=(0,v.jsx)(c.Suspense,{fallback:(0,v.jsx)(r.Z,{variant:"text",width:100}),children:(0,v.jsxs)(i.Z,{children:[b.elementKey&&Z.Z[b.elementKey]," ",b.name]})});return(0,v.jsx)(p.Z,{sx:{maxWidth:128,position:"relative",display:"flex",flexDirection:"column"},children:(0,v.jsxs)(m.Z,{condition:!!C,wrapper:K,children:[(0,v.jsx)(x.Z,{placement:"top",title:D,children:(0,v.jsx)(o.Z,{display:"flex",className:"grad-".concat(b.rarity,"star"),children:(0,v.jsx)(o.Z,{component:"img",src:b.thumbImgSide,maxWidth:"100%",maxHeight:"100%",sx:{transform:"scale(1.4)",transformOrigin:"bottom"}})})}),(0,v.jsx)(i.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",top:0},children:(0,v.jsx)("strong",{children:(0,v.jsxs)(g.Z,{color:"primary",children:[S.level,"/",u.SJ[S.ascension]]})})}),(0,v.jsx)(i.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",bottom:0,right:0},children:(0,v.jsx)("strong",{children:(0,v.jsxs)(g.Z,{color:"secondary",children:["C",S.constellation]})})})]})})}return(0,v.jsx)(p.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",py:"12.5%"},children:(0,v.jsx)(o.Z,{component:"img",src:s.Z.team["team".concat(j+2)],sx:{width:"75%",height:"auto",opacity:.7}})})}},20005:function(e,t,n){function ConditionalWrapper(e){var t=e.condition,n=e.wrapper,a=e.falseWrapper,r=e.children;return t?n(r):a?a(r):r}n.d(t,{Z:function(){return ConditionalWrapper}})},10157:function(e,t,n){n.d(t,{q:function(){return l}});var a=n(93433),r=n(53174),i=n(54483),o=n(91702),c=n(80184),s=function StarIcon(){return(0,c.jsx)(i.G,{icon:r.Tab})},l=function StarsDisplay(e){var t=e.stars,n=e.colored,r=void 0!==n&&n;return(0,c.jsx)(o.Z,{color:r?"warning":void 0,children:t?(0,a.Z)(Array(t).keys()).map((function(e,t){return(0,c.jsx)(s,{},t)})):null})}},77208:function(e,t,n){n.d(t,{Z:function(){return WeaponCardPico}});var a=n(64554),r=n(20890),i=n(72791),o=n(66218),c=n(27235),s=n(73036),l=n(18327),u=n(42320),d=n(74480),h=n(3992),f=n(25617),x=n(41717),p=n(80184);function WeaponCardPico(e){var t=e.weaponId,n=(0,d.Z)(t),l=(0,u.Z)((function(){return(null===n||void 0===n?void 0:n.key)&&o.Z.get(n.key)}),[null===n||void 0===n?void 0:n.key]),m=(0,i.useMemo)((function(){return l&&n&&(0,s.mP)([l.data,(0,s.v0)(n)])}),[l,n]);if(!n||!l||!m)return null;var g=(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(WeaponStatPico,{node:m.get(c.ri.weapon.main)}),(0,p.jsx)(WeaponStatPico,{node:m.get(c.ri.weapon.sub)})]});return(0,p.jsxs)(h.Z,{sx:{height:"100%",maxWidth:128,position:"relative",display:"flex",flexDirection:"column"},children:[(0,p.jsx)(a.Z,{display:"flex",flexDirection:"column",alignContent:"flex-end",className:"grad-".concat(l.rarity,"star"),children:(0,p.jsx)(x.Z,{sheet:l,addlText:g,children:(0,p.jsx)(a.Z,{component:"img",src:l.getImg(n.ascension),maxWidth:"100%",maxHeight:"100%",sx:{mt:"auto"}})})}),(0,p.jsx)(r.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none"},children:(0,p.jsx)("strong",{children:(0,p.jsx)(f.Z,{color:"primary",children:o.Z.getLevelString(n)})})}),l.hasRefinement&&(0,p.jsx)(r.Z,{sx:{position:"absolute",fontSize:"0.75rem",lineHeight:1,opacity:.85,pointerEvents:"none",bottom:0,right:0},children:(0,p.jsx)("strong",{children:(0,p.jsxs)(f.Z,{color:"secondary",children:["R",n.refinement]})})})]})}function WeaponStatPico(e){var t=e.node;return(0,p.jsxs)(r.Z,{children:[t.info.icon," ",(0,l.p)(t)]})}},41717:function(e,t,n){n.d(t,{Z:function(){return WeaponNameTooltip}});var a=n(47047),r=n(20890),i=n(72791),o=n(10658),c=n(96106),s=n(55942),l=n(80184);function WeaponNameTooltip(e){var t=e.sheet,n=e.addlText,u=e.children,d=(0,l.jsxs)(i.Suspense,{fallback:(0,l.jsx)(a.Z,{variant:"text",width:100}),children:[(0,l.jsxs)(r.Z,{children:[(0,l.jsx)(s.Z,{src:o.Z.weaponTypes[t.weaponType]})," ",t.name]}),n]});return(0,l.jsx)(c.Z,{placement:"top",title:d,disableInteractive:!0,children:u})}},11741:function(e,t,n){n.d(t,{J:function(){return Q},Y:function(){return V}});var a=n(1413),r=n(93433),i=n(75545),o=n(66624),c=n(27235),s=n(73036),l=n(78661),u=n(79406),d=n(24351),h=n(60393),f=n(53343),x=n(80184),p=function tr(e){return(0,x.jsx)(o.v,{ns:"elementalResonance_gen",key18:e})},m=function trm(e){return(0,x.jsx)(o.v,{ns:"elementalResonance",key18:e})},g=l.Sm.apply(void 0,(0,r.Z)(d.N.map((function(e){return c.uK[e]})))),Z=(0,h.Uq)(d.Kj,(function(e){return["".concat(e,"_res_"),(0,l.Dg)(c.qH.activeCharKey,c.qH.charKey,(0,l.ew)(c.uK.ele,4,(0,l.aQ)(.15)))]})),v={name:p("ProtectiveCanopy.name"),desc:p("ProtectiveCanopy.desc"),icon:(0,x.jsxs)("span",{children:[i.Z.anemo," ",i.Z.geo," ",i.Z.pyro," ",i.Z.hydro," ",i.Z.cryo," ",i.Z.electro," x4"]}),canShow:function canShow(e){return 4===d.N.filter((function(t){return e.get(c.uK[t]).value>=1})).length},sections:[{teamBuff:!0,fields:Object.values(Z).map((function(e){return{node:e}}))}]},y=(0,l.Dg)(c.qH.activeCharKey,c.qH.charKey,(0,l.ew)(g,4,(0,l.ew)(c.uK.pyro,2,(0,l.aQ)(.25)))),j={name:p("FerventFlames.name"),desc:p("FerventFlames.desc"),icon:(0,x.jsxs)("span",{children:[i.Z.pyro," ",i.Z.pyro]}),canShow:function canShow(e){return e.get(c.uK.pyro).value>=2&&e.get(g).value>=4},sections:[{teamBuff:!0,fields:[{text:(0,f.st)("effectDuration.cryo"),value:-40,unit:"%"},{node:y}]}]},C=(0,l.Dg)(c.qH.activeCharKey,c.qH.charKey,(0,l.ew)(g,4,(0,l.ew)(c.uK.hydro,2,(0,l.aQ)(.25)))),w={name:p("SoothingWater.name"),desc:p("SoothingWater.desc"),icon:(0,x.jsxs)("span",{children:[i.Z.hydro," ",i.Z.hydro]}),canShow:function canShow(e){return e.get(c.uK.hydro).value>=2&&e.get(g).value>=4},sections:[{teamBuff:!0,fields:[{text:(0,f.st)("effectDuration.pyro"),value:-40,unit:"%"},{node:C}]}]},b=["resonance","ShatteringIce"],S=(0,f.v9)(b),k=(0,l.Dg)(c.qH.activeCharKey,c.qH.charKey,(0,l.ew)(g,4,(0,l.ew)(c.uK.cryo,2,(0,l.Dg)(S,"on",(0,l.aQ)(.15))))),K={name:p("ShatteringIce.name"),desc:p("ShatteringIce.desc"),icon:(0,x.jsxs)("span",{children:[i.Z.cryo," ",i.Z.cryo]}),canShow:function canShow(e){return e.get(c.uK.cryo).value>=2&&e.get(g).value>=4},sections:[{teamBuff:!0,fields:[{text:(0,f.st)("effectDuration.electro"),value:-40,unit:"%"}]},{teamBuff:!0,path:b,value:S,name:m("ShatteringIce.cond"),header:{title:p("ShatteringIce.name"),icon:i.Z.cryo},states:{on:{fields:[{node:k}]}}}]},D={name:p("HighVoltage.name"),desc:p("HighVoltage.desc"),icon:(0,x.jsxs)("span",{children:[i.Z.electro," ",i.Z.electro]}),canShow:function canShow(e){return e.get(c.uK.electro).value>=2&&e.get(g).value>=4},sections:[{teamBuff:!0,fields:[{text:(0,f.st)("effectDuration.hydro"),value:-40,unit:"%"}]}]},H=(0,l.Dg)(c.qH.activeCharKey,c.qH.charKey,(0,l.ew)(g,4,(0,l.ew)(c.uK.anemo,2,(0,l.aQ)(-.15)))),P=(0,l.Dg)(c.qH.activeCharKey,c.qH.charKey,(0,l.ew)(g,4,(0,l.ew)(c.uK.anemo,2,(0,l.aQ)(.1)))),_=(0,l.Dg)(c.qH.activeCharKey,c.qH.charKey,(0,l.ew)(g,4,(0,l.ew)(c.uK.anemo,2,(0,l.aQ)(-.05)))),q={name:p("ImpetuousWinds.name"),desc:p("ImpetuousWinds.desc"),icon:(0,x.jsxs)("span",{children:[i.Z.anemo," ",i.Z.anemo]}),canShow:function canShow(e){return e.get(c.uK.anemo).value>=2&&e.get(g).value>=4},sections:[{teamBuff:!0,fields:[{node:H},{node:P},{node:_}]}]},T=["resonance","EnduringRock"],W=(0,f.v9)(T),I=(0,l.Dg)(c.qH.activeCharKey,c.qH.charKey,(0,l.ew)(g,4,(0,l.ew)(c.uK.geo,2,(0,l.aQ)(.15)))),B=(0,l.Dg)(c.qH.activeCharKey,c.qH.charKey,(0,l.ew)(g,4,(0,l.ew)(c.uK.geo,2,(0,l.Dg)(W,"on",(0,l.aQ)(.15))))),E=(0,l.Dg)(c.qH.activeCharKey,c.qH.charKey,(0,l.ew)(g,4,(0,l.ew)(c.uK.geo,2,(0,l.Dg)(W,"on",(0,l.aQ)(-.2))))),M={name:p("EnduringRock.name"),desc:p("EnduringRock.desc"),icon:(0,x.jsxs)("span",{children:[i.Z.geo," ",i.Z.geo]}),canShow:function canShow(e){return e.get(c.uK.geo).value>=2&&e.get(g).value>=4},sections:[{teamBuff:!0,text:p("EnduringRock.desc"),fields:[{node:I}]},{teamBuff:!0,path:T,value:W,header:{title:p("EnduringRock.name"),icon:i.Z.geo},name:(0,f.st)("protectedByShield"),states:{on:{fields:[{node:B},{node:E},{text:(0,f.el)("duration"),value:15,unit:"s"}]}}}]},R=["resonance","SprawlingCanopy2ele"],O=(0,f.v9)(R),N=["resonance","SprawlingCanopy3ele"],z=(0,f.v9)(N),A=(0,l.Dg)(c.qH.activeCharKey,c.qH.charKey,(0,l.ew)(g,4,(0,l.ew)(c.uK.dendro,2,50,(0,a.Z)((0,a.Z)({},u.ZP.info("eleMas")),{},{isTeamBuff:!0})))),F=(0,l.Dg)(c.qH.activeCharKey,c.qH.charKey,(0,l.ew)(g,4,(0,l.ew)(c.uK.dendro,2,(0,l.Dg)(O,"on",30,(0,a.Z)((0,a.Z)({},u.ZP.info("eleMas")),{},{isTeamBuff:!0}))))),G=(0,l.Dg)(c.qH.activeCharKey,c.qH.charKey,(0,l.ew)(g,4,(0,l.ew)(c.uK.dendro,2,(0,l.Dg)(z,"on",20,(0,a.Z)((0,a.Z)({},u.ZP.info("eleMas")),{},{isTeamBuff:!0}))))),Q=[v,j,w,K,D,q,M,{name:p("SprawlingGreenery.name"),desc:p("SprawlingGreenery.desc"),icon:(0,x.jsxs)("span",{children:[i.Z.dendro," ",i.Z.dendro]}),canShow:function canShow(e){return e.get(c.uK.dendro).value>=2&&e.get(g).value>=4},sections:[{teamBuff:!0,text:p("SprawlingGreenery.desc"),fields:[{node:A}]},{teamBuff:!0,path:R,value:O,header:{title:p("SprawlingGreenery.name"),icon:i.Z.dendro},name:m("SprawlingGreenery.cond2ele"),states:{on:{fields:[{node:F},{text:(0,f.el)("duration"),value:6,unit:"s"}]}}},{teamBuff:!0,path:N,value:z,header:{title:p("SprawlingGreenery.name"),icon:i.Z.dendro},name:m("SprawlingGreenery.cond3ele"),states:{on:{fields:[{node:G},{text:(0,f.el)("duration"),value:6,unit:"s"}]}}}]}],V=(0,s.d1)({teamBuff:{premod:(0,a.Z)((0,a.Z)({},Z),{},{atk_:y,hp_:C,staminaDec_:H,moveSPD_:P,cdRed_:_,shield_:I,all_dmg_:B,geo_enemyRes_:E,eleMas:(0,l.ce)((0,l.Sm)(A,F,G),{pivot:!0})}),total:{critRate_:k}}})},65106:function(e,t,n){n.d(t,{Z:function(){return useCharMeta}});var a=n(29439),r=n(72791),i=n(66101);function useCharMeta(e){var t=(0,r.useContext)(i.t).database,n=(0,r.useState)((function(){return t.charMeta.get(e)})),o=(0,a.Z)(n,2),c=o[0],s=o[1];return(0,r.useEffect)((function(){return t.charMeta.follow(e,(function(e,t,n){return s(n)}))}),[e,t]),(0,r.useEffect)((function(){return s(t.charMeta.get(e))}),[t,e]),c}},13434:function(e,t,n){n.d(t,{Z:function(){return useCharacter}});var a=n(29439),r=n(72791),i=n(66101);function useCharacter(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,r.useContext)(i.t),n=t.database,o=(0,r.useState)(n.chars.get(e)),c=(0,a.Z)(o,2),s=c[0],l=c[1];return(0,r.useEffect)((function(){return l(n.chars.get(e))}),[n,e]),(0,r.useEffect)((function(){return e?n.chars.follow(e,(function(e,t,n){return"update"===t&&l(n)})):void 0}),[e,l,n]),s}},50920:function(e,t,n){n.d(t,{Z:function(){return useCharacterReducer}});var a=n(93433),r=n(4942),i=n(1413),o=n(72791),c=n(66101),s=n(60393);function useCharacterReducer(e){var t=(0,o.useContext)(c.t).database;return(0,o.useCallback)((function(n){if(e){var o=t.chars.get(e);if(o)if("type"in n)switch(n.type){case"enemyOverride":var c=o.enemyOverride,l=n.statKey,u=n.value;if(c[l]===u)break;t.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{enemyOverride:(0,i.Z)((0,i.Z)({},c),{},(0,r.Z)({},l,u))}));break;case"editStats":var d=n.statKey,h=n.value,f=(0,s.I8)(o.bonusStats);if(f[d]===h)break;h?f[d]=h:delete f[d],t.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{bonusStats:f}));break;case"resetStats":var x=n.statKey,p=o.bonusStats;delete p[x],t.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{bonusStats:p}));break;case"teamConditional":var m=n.teamMateKey,g=n.conditional,Z=(0,s.I8)(o.teamConditional);Z[m]=g,t.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{teamConditional:Z}));break;case"team":var v=o.team,y=(0,a.Z)(v),j=n.index,C=n.charKey;y[j]=C,t.chars.set(e,(0,i.Z)((0,i.Z)({},o),{},{team:y}))}else t.chars.set(e,(0,i.Z)((0,i.Z)({},o),n))}}),[e,t])}},70645:function(e,t,n){n.d(t,{Z:function(){return useMediaQueryUp}});var a=n(13967),r=n(95193);function useMediaQueryUp(){var e=(0,a.Z)(),t=(0,r.Z)(e.breakpoints.up("sm")),n=(0,r.Z)(e.breakpoints.up("md")),i=(0,r.Z)(e.breakpoints.up("lg"));return(0,r.Z)(e.breakpoints.up("xl"))?"xl":i?"lg":n?"md":t?"sm":"xs"}},47639:function(e,t,n){n.d(t,{V:function(){return getTeamData},Z:function(){return useTeamData}});var a=n(93433),r=n(4942),i=n(74165),o=n(1413),c=n(45987),s=n(15861),l=n(29439),u=n(72791),d=n(31148),h=n(947),f=n(11741),x=n(66218),p=n(66101),m=n(27235),g=n(73036),Z=n(60393),v=n(68544),y=n(42320),j=["data"],C=["display"];function useTeamData(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=(0,u.useContext)(p.t),i=r.database,o=(0,v.Z)(),c=(0,l.Z)(o,2),s=c[0],d=c[1],h=(0,u.useDeferredValue)(s),f=(0,y.Z)((function(){return getTeamDataCalc(i,e,t,n,a)}),[h,e,i,t,n,a]);return(0,u.useEffect)((function(){return e?i.chars.follow(e,d):void 0}),[e,d,i]),f}function getTeamDataCalc(e,t){return _getTeamDataCalc.apply(this,arguments)}function _getTeamDataCalc(){return _getTeamDataCalc=(0,s.Z)((0,i.Z)().mark((function _callee(e,t){var n,a,r,s,l,u,d,h,f,x,p=arguments;return(0,i.Z)().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(a=p.length>2&&void 0!==p[2]?p[2]:0,r=p.length>3?p[3]:void 0,s=p.length>4?p[4]:void 0,t){i.next=5;break}return i.abrupt("return");case 5:if(a||r||s){i.next=9;break}if(!(l=e._getTeamData(t))){i.next=9;break}return i.abrupt("return",l);case 9:return i.next=11,getTeamData(e,t,a,r,s);case 11:if(i.t1=n=i.sent,i.t0=null!==i.t1,!i.t0){i.next=15;break}i.t0=void 0!==n;case 15:if(!i.t0){i.next=19;break}i.t2=n,i.next=20;break;case 19:i.t2={};case 20:if(u=i.t2,d=u.teamData,h=u.teamBundle,d&&h){i.next=25;break}return i.abrupt("return");case 25:return f=(0,g.Qo)(d,t),x=(0,Z.xh)(f,(function(e,t){var n=h[t],a=(n.data,(0,c.Z)(n,j));return(0,o.Z)((0,o.Z)({},e),a)})),a||r||s||e.cacheTeamData(t,x),i.abrupt("return",x);case 29:case"end":return i.stop()}}),_callee)}))),_getTeamDataCalc.apply(this,arguments)}function getTeamData(e,t){return _getTeamData.apply(this,arguments)}function _getTeamData(){return _getTeamData=(0,s.Z)((0,i.Z)().mark((function _callee3(e,t){var n,a,c,l,u,d,h,f=arguments;return(0,i.Z)().wrap((function _callee3$(x){for(;;)switch(x.prev=x.next){case 0:if(n=f.length>2&&void 0!==f[2]?f[2]:0,a=f.length>3?f[3]:void 0,c=f.length>4?f[4]:void 0,t){x.next=5;break}return x.abrupt("return");case 5:if(l=e.chars.get(t)){x.next=8;break}return x.abrupt("return");case 8:return x.next=10,getCharDataBundle(e,!0,n,l,c||e.weapons.get(l.equippedWeapon),null!==a&&void 0!==a?a:Object.values(l.equippedArtifacts).map((function(t){return e.arts.get(t)})).filter((function(e){return e})));case 10:if(u=x.sent){x.next=13;break}return x.abrupt("return");case 13:return d=(0,r.Z)({},t,u),h=(0,r.Z)({},t,u.data),x.next=17,Promise.all(u.character.team.map(function(){var t=(0,s.Z)((0,i.Z)().mark((function _callee2(t){var n,a,r;return(0,i.Z)().wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return");case 2:if(a=e.chars.get(t)){i.next=5;break}return i.abrupt("return");case 5:return i.next=7,getCharDataBundle(e,!1,0,(0,o.Z)((0,o.Z)({},a),{},{conditional:null!==(n=l.teamConditional[t])&&void 0!==n?n:{}}),e.weapons.get(a.equippedWeapon),Object.values(a.equippedArtifacts).map((function(t){return e.arts.get(t)})).filter((function(e){return e})));case 7:if(r=i.sent){i.next=10;break}return i.abrupt("return");case 10:d[t]=r,h[t]=r.data;case 12:case"end":return i.stop()}}),_callee2)})));return function(e){return t.apply(this,arguments)}}()));case 17:return x.abrupt("return",{teamData:h,teamBundle:d});case 18:case"end":return x.stop()}}),_callee3)}))),_getTeamData.apply(this,arguments)}function getCharDataBundle(e){return _getCharDataBundle.apply(this,arguments)}function _getCharDataBundle(){return _getCharDataBundle=(0,s.Z)((0,i.Z)().mark((function _callee4(e){var t,n,r,o,s,l,u,p,Z,v,y,j,w,b=arguments;return(0,i.Z)().wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:return t=b.length>1&&void 0!==b[1]&&b[1],n=b.length>2?b[2]:void 0,r=b.length>3?b[3]:void 0,o=b.length>4?b[4]:void 0,s=b.length>5?b[5]:void 0,i.next=7,h.Z.get(r.key,e.gender);case 7:if(l=i.sent){i.next=10;break}return i.abrupt("return");case 10:return i.next=12,x.Z.get(o.key);case 12:if(u=i.sent){i.next=15;break}return i.abrupt("return");case 15:return i.next=17,x.Z.getAllDataOfType(l.weaponTypeKey);case 17:return p=i.sent,Z=t?function(){var e=u.data,t=(e.display,(0,c.Z)(e,C));return(0,g.b3)([t,p])}():u.data,i.next=21,d.y.getAllData;case 21:return v=i.sent,y=(0,g.b3)([l.data,Z,v]),j=Array.isArray(s)?s.map((function(e){return(0,g.n3)(e,n)})):[s],w=[].concat((0,a.Z)(j),[(0,g.vn)(r,t?y:void 0),(0,g.v0)(o),y,m.y0,f.Y]),i.abrupt("return",{character:r,weapon:o,characterSheet:l,weaponSheet:u,data:w});case 26:case"end":return i.stop()}}),_callee4)}))),_getCharDataBundle.apply(this,arguments)}},74480:function(e,t,n){n.d(t,{Z:function(){return useWeapon}});var a=n(29439),r=n(72791),i=n(66101);function useWeapon(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,r.useContext)(i.t),n=t.database,o=(0,r.useState)(n.weapons.get(e)),c=(0,a.Z)(o,2),s=c[0],l=c[1];return(0,r.useEffect)((function(){return l(n.weapons.get(e))}),[n,e]),(0,r.useEffect)((function(){return e?n.weapons.follow(e,(function(e,t,n){return"update"===t&&l(n)})):void 0}),[e,l,n]),s}},75308:function(e,t,n){n.d(t,{X:function(){return handleMultiSelect}});var a=n(93433),r=n(60393);function handleMultiSelect(e){return function(t,n){var i=t.length;return i===e.length?[n]:1===i&&t[0]===n?(0,a.Z)(e):(0,a.Z)(new Set((0,r.nh)(t,n)))}}},46956:function(e,t,n){n.d(t,{C:function(){return filterFunction},e:function(){return sortFunction}});var a=n(29439),r=n(37762);function sortFunction(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return function(i,o){var c,s=(0,r.Z)(e);try{for(s.s();!(c=s.n()).done;){var l=c.value,u=0,d=n[l],h=d(i),f=d(o);if(0!==(u="string"===typeof h&&"string"===typeof f?h.localeCompare(f):f-h))return a.includes(l)?u:(t?-1:1)*u}}catch(x){s.e(x)}finally{s.f()}return 0}}function filterFunction(e,t){return function(n){return Object.entries(e).every((function(e){var r=(0,a.Z)(e,2),i=r[0],o=r[1];return t[i]&&t[i](n,o)}))}}}}]);
//# sourceMappingURL=290.6af2afb7.chunk.js.map