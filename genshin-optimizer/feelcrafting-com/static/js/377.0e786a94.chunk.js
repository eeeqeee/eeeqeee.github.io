"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[377],{59215:function(e,n,t){t.d(n,{Z:function(){return SortByButton}});var r=t(1413),c=t(45987),a=t(53174),o=t(54483),i=t(64554),l=t(2199),s=t(23786),u=t(24518),h=t(22020),d=t(76899),x=t(33890),f=t(80184),Z=["sortKeys","value","onChange","ascending","onChangeAsc"];function SortByButton(e){var n=e.sortKeys,t=e.value,g=e.onChange,p=e.ascending,j=e.onChangeAsc,C=(0,c.Z)(e,Z),m=(0,h.$)("ui").t;return(0,f.jsxs)(i.Z,{display:"flex",alignItems:"center",gap:1,children:[(0,f.jsx)(d.c,{t:m,i18nKey:m("sortBy"),children:"Sort by: "}),(0,f.jsxs)(l.Z,(0,r.Z)((0,r.Z)({},C),{},{children:[(0,f.jsx)(x.Z,{title:(0,f.jsx)(d.c,{t:m,i18nKey:m("sortMap.".concat(t)),children:{value:m("sortMap.".concat(t))}}),children:n.map((function(e){return(0,f.jsx)(s.Z,{selected:t===e,disabled:t===e,onClick:function onClick(){return g(e)},children:m("sortMap.".concat(e))},e)}))}),(0,f.jsx)(u.Z,{onClick:function onClick(){return j(!p)},startIcon:(0,f.jsx)(o.G,{icon:p?a.Pa6:a.xrW,className:"fa-fw"}),children:p?(0,f.jsx)(d.c,{t:m,i18nKey:"ascending",children:"Ascending"}):(0,f.jsx)(d.c,{t:m,i18nKey:"descending",children:"Descending"})})]}))]})}},48510:function(e,n,t){t.d(n,{Z:function(){return ElementToggle}});var r=t(1413),c=t(45987),a=t(93433),o=t(72466),i=t(64554),l=t(24351),s=t(75308),u=t(66934),h=t(90388),d=(0,u.ZP)(h.Z,{shouldForwardProp:function shouldForwardProp(e){return"baseColor"!==e&&"selectedColor"!==e}})((function(e){var n=e.theme,t=e.baseColor,r=void 0===t?"secondary":t,c=e.selectedColor,a=void 0===c?"success":c;return{"&":{backgroundColor:n.palette[r].main,color:n.palette[r].contrastText},"&:hover":{backgroundColor:n.palette[r].dark},"&.Mui-selected":{backgroundColor:n.palette[a].main,color:n.palette[a].contrastText},"&.Mui-selected:hover":{backgroundColor:n.palette[a].dark},"&.Mui-disabled":{backgroundColor:n.palette[r].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:n.palette[a].dark}}})),x=t(75545),f=t(80184),Z=["value","onChange"],g=(0,s.X)((0,a.Z)(l.N));function ElementToggle(e){var n=e.value,t=e.onChange,a=(0,c.Z)(e,Z);return(0,f.jsx)(o.Z,(0,r.Z)((0,r.Z)({exclusive:!0,value:n},a),{},{children:l.N.map((function(e){return(0,f.jsx)(d,{value:e,selectedColor:e,onClick:function onClick(){return t(g(n,e))},children:(0,f.jsx)(i.Z,{sx:{fontSize:"2em",lineHeight:1},children:x.Z[e]})},e)}))}))}},73578:function(e,n,t){t.d(n,{Z:function(){return WeaponToggle}});var r=t(1413),c=t(45987),a=t(93433),o=t(90388),i=t(10658),l=t(24351),s=t(75308),u=t(55942),h=t(91839),d=t(80184),x=["value","onChange"],f=(0,s.X)((0,a.Z)(l.yd));function WeaponToggle(e){var n=e.value,t=e.onChange,a=(0,c.Z)(e,x);return(0,d.jsx)(h.Z,(0,r.Z)((0,r.Z)({exclusive:!0,value:n},a),{},{children:l.yd.map((function(e){var r;return(0,d.jsx)(o.Z,{value:e,onClick:function onClick(){return t(f(n,e))},children:(0,d.jsx)(u.Z,{src:null===(r=i.Z.weaponTypes)||void 0===r?void 0:r[e],size:2})},e)}))}))}},9662:function(e,n,t){t.r(n),t.d(n,{default:function(){return PageCharacter}});var r,c=t(30168),a=t(74165),o=t(15861),i=t(29439),l=t(53174),s=t(54483),u=t(68087),h=t(45781),d=t(35893),x=t(10284),f=t(31289),Z=t(59496),g=t(64554),p=t(39504),j=t(61889),C=t(58165),m=t(57246),v=t(24518),y=t(47047),k=t(94721),w=t(20890),b=t(13400),P=t(72791),z=t(10757),S=t(22020),T=t(76899),M=t(16871),L=t(96106),K=t(3992),N=t(30865),I=t(59215),V=t(48510),H=t(73578),_=t(947),A=t(66101),F=t(566),B=t(12761),D=t(68544),G=t(70645),E=t(42320),W=t(24351),$=t(50921),R=t(46956),U=t(60393),X=t(80184),O=P.lazy((function(){return t.e(332).then(t.bind(t,4332))})),q={xs:1,sm:2,md:3,lg:4,xl:4},J={xs:6,sm:8,md:12,lg:16,xl:16},Q=Object.keys($.V3);function PageCharacter(){var e=(0,S.$)(["page_character","charNames_gen"]).t,n=(0,P.useContext)(A.t).database,t=(0,P.useState)((function(){return n.displayCharacter.get()})),T=(0,i.Z)(t,2),Y=T[0],ee=T[1];(0,P.useEffect)((function(){return n.displayCharacter.follow((function(e,n){return ee(n)}))}),[n,ee]);var ne=(0,P.useState)(""),te=(0,i.Z)(ne,2),re=te[0],ce=te[1],ae=(0,P.useDeferredValue)(re),oe=(0,P.useRef)(null),ie=(0,P.useCallback)((function(e,t){var r;null===(r=oe.current)||void 0===r||r.scrollIntoView({behavior:"smooth"}),n.displayCharacter.set({pageIndex:t-1})}),[n,oe]),le=(0,G.Z)(),se=J[le],ue=(0,P.useState)(!1),he=(0,i.Z)(ue,2),de=he[0],xe=he[1],fe=(0,D.Z)(),Ze=(0,i.Z)(fe,2),ge=Ze[0],pe=Ze[1];(0,P.useEffect)((function(){return z.ZP.send({hitType:"pageview",page:"/characters"}),n.chars.followAny((function(e,n){return("new"===n||"remove"===n)&&pe()}))}),[pe,n]),(0,P.useEffect)((function(){return n.charMeta.followAny((function(e){return pe()}))}),[pe,n]);var je=(0,E.Z)((function(){return _.Z.getAll}),[]),Ce=(0,B.Z)().gender,me=(0,P.useCallback)(function(){var t=(0,o.Z)((0,a.Z)().mark((function _callee(t){var r,c;return(0,a.Z)().wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.Z.get(t,Ce);case 2:if(r=a.sent,"object"===typeof(c=null===r||void 0===r?void 0:r.name)&&(c=e("charNames_gen:".concat((0,W.LP)(t,Ce)))),window.confirm(e("removeCharacter",{value:c}))){a.next=7;break}return a.abrupt("return");case 7:n.chars.remove(t);case 8:case"end":return a.stop()}}),_callee)})));return function(e){return t.apply(this,arguments)}}(),[n,Ce,e]),ve=(0,F.Z)(),ye=(0,M.s0)(),ke=(0,P.useDeferredValue)(Y),we=(0,P.useDeferredValue)(ge),be=(0,P.useMemo)((function(){var e,t=n.chars.keys.length;if(!je)return{charKeyList:[],totalCharNum:t};var r=ke.element,c=ke.weaponType,a=ke.sortType,o=ke.ascending,i=n.chars.keys.filter((0,R.C)({element:r,weaponType:c,name:ae},(0,$.zU)(n,je))).sort((0,R.e)(null!==(e=$.V3[a])&&void 0!==e?e:[],o,(0,$._L)(n,je),["new","favorite"]));return we&&{charKeyList:i,totalCharNum:t}}),[we,n,je,ke,ae]),Pe=be.charKeyList,ze=be.totalCharNum,Se=Y.weaponType,Te=Y.element,Me=Y.sortType,Le=Y.ascending,Ke=Y.pageIndex,Ne=void 0===Ke?0:Ke,Ie=(0,P.useMemo)((function(){var e=Math.ceil(Pe.length/se),n=(0,U.uZ)(Ne,0,e-1);return{charKeyListToShow:Pe.slice(n*se,(n+1)*se),numPages:e,currentPageIndex:n}}),[Pe,Ne,se]),Ve=Ie.charKeyListToShow,He=Ie.numPages,_e=Ie.currentPageIndex,Ae=Pe.length!==ze?"".concat(Pe.length,"/").concat(ze):"".concat(ze);return(0,X.jsxs)(g.Z,{my:1,display:"flex",flexDirection:"column",gap:1,children:[(0,X.jsx)(P.Suspense,{fallback:!1,children:(0,X.jsx)(O,{newFirst:!0,show:de,onHide:function onHide(){return xe(!1)},onSelect:ve})}),(0,X.jsx)(K.Z,{ref:oe,children:(0,X.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,X.jsxs)(j.ZP,{container:!0,spacing:1,children:[(0,X.jsx)(j.ZP,{item:!0,children:(0,X.jsx)(H.Z,{sx:{height:"100%"},onChange:function onChange(e){return n.displayCharacter.set({weaponType:e})},value:Se,size:"small"})}),(0,X.jsx)(j.ZP,{item:!0,children:(0,X.jsx)(V.Z,{sx:{height:"100%"},onChange:function onChange(e){return n.displayCharacter.set({element:e})},value:Te,size:"small"})}),(0,X.jsx)(j.ZP,{item:!0,flexGrow:1,children:(0,X.jsx)(C.Z,{autoFocus:!0,value:re,onChange:function onChange(e){return ce(e.target.value)},label:e("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,X.jsx)(j.ZP,{item:!0,children:(0,X.jsx)(I.Z,{sx:{height:"100%"},sortKeys:Q,value:Me,onChange:function onChange(e){return n.displayCharacter.set({sortType:e})},ascending:Le,onChangeAsc:function onChangeAsc(e){return n.displayCharacter.set({ascending:e})}})})]}),(0,X.jsxs)(j.ZP,{container:!0,alignItems:"flex-end",children:[(0,X.jsx)(j.ZP,{item:!0,flexGrow:1,children:(0,X.jsx)(m.Z,{count:He,page:_e+1,onChange:ie})}),(0,X.jsx)(j.ZP,{item:!0,children:(0,X.jsx)(ShowingCharacter,{numShowing:Ve.length,total:Ae,t:e})})]})]})}),(0,X.jsx)(v.Z,{fullWidth:!0,onClick:function onClick(){return xe(!0)},color:"info",startIcon:(0,X.jsx)(u.Z,{}),children:e(r||(r=(0,c.Z)(["addNew"])))}),(0,X.jsx)(P.Suspense,{fallback:(0,X.jsx)(y.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:5e3}}),children:(0,X.jsx)(j.ZP,{container:!0,spacing:1,columns:q,children:Ve.map((function(n){return(0,X.jsx)(j.ZP,{item:!0,xs:1,children:(0,X.jsx)(N.Z,{characterKey:n,onClick:function onClick(){return ye("".concat(n))},footer:(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(k.Z,{}),(0,X.jsxs)(g.Z,{sx:{py:1,px:2,display:"flex",gap:1,justifyContent:"space-between"},children:[(0,X.jsx)(L.Z,{placement:"top",title:(0,X.jsx)(w.Z,{children:e("tabs.talent")}),children:(0,X.jsx)(b.Z,{onClick:function onClick(){return ye("".concat(n,"/talent"))},children:(0,X.jsx)(h.Z,{})})}),(0,X.jsx)(L.Z,{placement:"top",title:(0,X.jsx)(w.Z,{children:e("tabs.teambuffs")}),children:(0,X.jsx)(b.Z,{onClick:function onClick(){return ye("".concat(n,"/teambuffs"))},children:(0,X.jsx)(d.Z,{})})}),(0,X.jsx)(L.Z,{placement:"top",title:(0,X.jsx)(w.Z,{children:e("tabs.optimize")}),children:(0,X.jsx)(b.Z,{onClick:function onClick(){return ye("".concat(n,"/optimize"))},children:(0,X.jsx)(x.Z,{})})}),(0,X.jsx)(L.Z,{placement:"top",title:(0,X.jsx)(w.Z,{children:e("tabs.theorycraft")}),children:(0,X.jsx)(b.Z,{onClick:function onClick(){return ye("".concat(n,"/theorycraft"))},children:(0,X.jsx)(f.Z,{})})}),(0,X.jsx)(k.Z,{orientation:"vertical"}),(0,X.jsx)(L.Z,{placement:"top",title:(0,X.jsx)(w.Z,{children:e("delete")}),children:(0,X.jsx)(b.Z,{color:"error",onClick:function onClick(){return me(n)},children:(0,X.jsx)(Z.Z,{})})})]})]})})},n)}))})}),He>1&&(0,X.jsx)(K.Z,{children:(0,X.jsxs)(p.Z,{sx:{display:"flex",gap:1},children:[(0,X.jsx)(v.Z,{onClick:function onClick(){return xe(!0)},color:"info",sx:{minWidth:0},children:(0,X.jsx)(w.Z,{children:(0,X.jsx)(s.G,{icon:l.r8p,className:"fa-fw"})})}),(0,X.jsxs)(j.ZP,{container:!0,alignItems:"flex-end",sx:{flexGrow:1},children:[(0,X.jsx)(j.ZP,{item:!0,flexGrow:1,children:(0,X.jsx)(m.Z,{count:He,page:_e+1,onChange:ie})}),(0,X.jsx)(j.ZP,{item:!0,children:(0,X.jsx)(ShowingCharacter,{numShowing:Ve.length,total:Ae,t:e})})]})]})})]})}function ShowingCharacter(e){var n=e.numShowing,t=e.total,r=e.t;return(0,X.jsx)(w.Z,{color:"text.secondary",children:(0,X.jsxs)(T.c,{t:r,i18nKey:"showingNum",count:n,value:t,children:["Showing ",(0,X.jsx)("b",{children:{count:n}})," out of ",{value:t}," Characters"]})})}},45781:function(e,n,t){var r=t(74223),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM10 17H5v-2h5v2zm0-4H5v-2h5v2zm0-4H5V7h5v2zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42L14.82 15z"}),"FactCheck")},90690:function(e,n,t){var r=t(74223),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder")},31289:function(e,n,t){var r=t(74223),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6z"}),"Science")},10284:function(e,n,t){var r=t(74223),c=t(80184);n.Z=(0,r.Z)((0,c.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp")}}]);
//# sourceMappingURL=377.0e786a94.chunk.js.map