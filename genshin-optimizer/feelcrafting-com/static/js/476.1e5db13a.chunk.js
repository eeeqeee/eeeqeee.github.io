"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[476,923],{18726:function(e,n,t){t.d(n,{Z:function(){return CardHeaderCustom}});var i=t(64554),s=t(20890),a=t(80184);function CardHeaderCustom(e){var n=e.avatar,t=e.title,o=e.action;return(0,a.jsxs)(i.Z,{display:"flex",gap:1,p:2,alignItems:"center",children:[n,(0,a.jsx)(s.Z,{variant:"subtitle1",sx:{flexGrow:1},children:t}),o&&(0,a.jsx)(s.Z,{variant:"caption",children:o})]})}},37503:function(e,n,t){t.d(n,{X:function(){return HeaderDisplay},Z:function(){return DocumentDisplay}});var i=t(64554),s=t(20890),a=t(94721),o=t(72791),r=t(13746),l=t(60393),c=t(3992),d=t(18726),u=t(39504),x=t(88034),h=t(29439),p=t(72247),f=t(9912),v=t(24518),j=t(23786),m=t(2199),Z=t(97714),C=t(33890),g=t(25617),y=t(66624),b=t(80184);function ConditionalSelector(e){var n=e.conditional,t=e.disabled,i=void 0!==t&&t;return 1===Object.keys(n.states).length&&"path"in n?(0,b.jsx)(SimpleConditionalSelector,{conditional:n,disabled:i}):"path"in n?(0,b.jsx)(ExclusiveConditionalSelector,{conditional:n,disabled:i}):(0,b.jsx)(MultipleConditionalSelector,{conditional:n,disabled:i})}function SimpleConditionalSelector(e){var n=e.conditional,t=e.disabled,i=(0,o.useContext)(Z.K),s=i.character,a=i.characterDispatch,c=(0,o.useContext)(r.R).data,d=(0,o.useCallback)((function(e){var t=(0,l.I8)(s.conditional);e?(0,l.SR)(t,n.path,e):(0,l.uH)(t,n.path),a({conditional:t})}),[n,s,a]),u=c.get(n.value).value,x=(0,h.Z)(Object.entries(n.states)[0],2),j=x[0],m=getStateBadge(x[1].name),C=getCondName(n.name);return(0,b.jsxs)(v.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:u?"success":"primary",onClick:function onClick(){return d(u?void 0:j)},disabled:t,startIcon:u?(0,b.jsx)(p.Z,{}):(0,b.jsx)(f.Z,{}),children:[C," ",m]})}function ExclusiveConditionalSelector(e){var n=e.conditional,t=e.disabled,i=(0,o.useContext)(Z.K),s=i.character,c=i.characterDispatch,d=(0,o.useContext)(r.R).data,u=(0,o.useCallback)((function(e){var t=(0,l.I8)(s.conditional);e?(0,l.SR)(t,n.path,e):(0,l.uH)(t,n.path),c({conditional:t})}),[n,s,c]),x=d.get(n.value).value,p=x?n.states[x]:void 0,f=p?getStateBadge(p.name):(0,b.jsx)(g.Z,{color:"secondary",children:"Not Active"}),v=getCondName(n.name);return(0,b.jsxs)(C.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:x?"success":"primary",title:(0,b.jsxs)("span",{children:[v," ",f]}),disabled:t,children:[(0,b.jsx)(j.Z,{onClick:function onClick(){return u()},selected:!p,disabled:!p,children:(0,b.jsx)("span",{children:"Not Active"})}),(0,b.jsx)(a.Z,{}),Object.entries(n.states).map((function(e){var n=(0,h.Z)(e,2),t=n[0],i=n[1];return(0,b.jsx)(j.Z,{onClick:function onClick(){return u(t)},selected:x===t,disabled:x===t,children:i.name},t)}))]})}function MultipleConditionalSelector(e){var n=e.conditional,t=e.disabled,i=(0,o.useContext)(Z.K),s=i.character,a=i.characterDispatch,c=(0,o.useContext)(r.R).data,d=(0,o.useCallback)((function(e,n){var t=(0,l.I8)(s.conditional);n?(0,l.SR)(t,e,n):(0,l.uH)(t,e),a({conditional:t})}),[s,a]);return(0,b.jsx)(m.Z,{fullWidth:!0,orientation:"vertical",disableElevation:!0,color:"secondary",children:Object.entries(n.states).map((function(e){var n=(0,h.Z)(e,2),i=n[0],s=n[1],a=c.get(s.value).value,o=a===i;return(0,b.jsx)(v.Z,{color:o?"success":"primary",disabled:t,fullWidth:!0,onClick:function onClick(){return d(s.path,a?void 0:i)},size:"small",startIcon:o?(0,b.jsx)(p.Z,{}):(0,b.jsx)(f.Z,{}),sx:{borderRadius:0},children:getCondName(s.name)},i)}))})}function isElement(e){return"string"!==typeof e}function getStateBadge(e){if(!e)return"";var n="primary",t=e;return e&&isElement(e)&&e.props.color&&(n=e.props.color,t=(0,b.jsx)("span",{children:e.props.children})),(0,b.jsx)(g.Z,{sx:{ml:.5},color:n,children:t})}function getCondName(e){if(isElement(e)){var n=e.props.key18,t=e.props.ns,i=e.props.values;return(0,b.jsx)(y.v,{ns:t,key18:n,values:i,useBadge:!0})}return e}function ConditionalDisplay(e){var n,t=e.conditional,i=e.hideHeader,s=void 0!==i&&i,a=e.hideDesc,d=void 0!==a&&a,h=(0,o.useContext)(r.R).data;if("path"in t){var p,f=h.get(t.value).value;n=f&&(null===(p=t.states[f])||void 0===p?void 0:p.fields)}else n=Object.values(t.states).flatMap((function(e){return h.get(e.value).value?e.fields:[]}));return(0,b.jsxs)(c.Z,{children:[!(0,l.mY)(s,t)&&(0,b.jsx)(HeaderDisplay,{header:t.header,hideDesc:d}),(0,b.jsx)(u.Z,{sx:{p:0,"&:last-child":{pb:0}},children:(0,b.jsx)(ConditionalSelector,{conditional:t})}),n&&(0,b.jsx)(x.ZP,{fields:n})]})}var k=t(55221);function DocumentDisplay(e){var n=e.sections,t=e.teamBuffOnly,s=e.hideDesc,a=void 0!==s&&s,l=e.hideHeader,c=void 0!==l&&l,d=(0,o.useContext)(r.R).data;if(!n.length)return null;var u=n.map((function(e,n){return e.canShow&&!d.get(e.canShow).value||t&&!e.teamBuff?null:(0,b.jsx)(SectionDisplay,{section:e,hideDesc:a,hideHeader:c},n)})).filter((function(e){return e}));return u.length?(0,b.jsx)(i.Z,{display:"flex",flexDirection:"column",gap:1,children:u}):null}function SectionDisplay(e){var n=e.section,t=e.hideDesc,i=void 0!==t&&t,s=e.hideHeader,a=void 0!==s&&s;return"fields"in n?(0,b.jsx)(FieldsSectionDisplay,{section:n,hideDesc:i,hideHeader:a}):"states"in n?(0,b.jsx)(ConditionalDisplay,{conditional:n,hideDesc:i,hideHeader:a}):(0,b.jsx)(TextSectionDisplay,{section:n})}function FieldsSectionDisplay(e){var n=e.section,t=e.hideDesc,i=e.hideHeader;return(0,b.jsxs)(c.Z,{children:[!(0,l.mY)(i,n)&&n.header&&(0,b.jsx)(HeaderDisplay,{header:n.header,hideDesc:t,hideDivider:0===n.fields.length}),(0,b.jsx)(x.ZP,{fields:n.fields})]})}function TextSectionDisplay(e){var n=e.section,t=(0,o.useContext)(r.R).data;return(0,b.jsx)("div",{children:(0,l.mY)(n.text,t)})}function HeaderDisplay(e){var n=e.header,t=e.hideDesc,i=e.hideDivider,c=(0,o.useContext)(r.R).data,u=n.icon,x=n.title,h=n.action;u=(0,l.mY)(u,c);var p=!t&&(0,l.mY)(n.description,c),f=t?x:(0,b.jsxs)("span",{children:[x," ",(0,b.jsx)(k.Z,{title:(0,b.jsx)(s.Z,{children:p})})]});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Z,{avatar:u,title:f,action:h}),!i&&(0,b.jsx)(a.Z,{})]})}},55221:function(e,n,t){var i=t(1413),s=t(45987),a=t(53174),o=t(54483),r=t(64554),l=t(96106),c=t(80184),d=["className"];n.Z=function InfoTooltip(e){var n=e.className,t=(0,s.Z)(e,d);return(0,c.jsx)(l.Z,(0,i.Z)((0,i.Z)({placement:"top"},t),{},{className:n,children:(0,c.jsx)(r.Z,{component:"span",sx:{cursor:"help"},children:(0,c.jsx)(o.G,{icon:a.sqG})})}))}},29371:function(e,n,t){t.d(n,{Z:function(){return LevelSelect}});var i=t(29439),s=t(93433),a=t(2199),o=t(24518),r=t(23786),l=t(72791),c=t(22020),d=t(2139),u=t(60393),x=t(10600),h=t(33890),p=t(80184);function LevelSelect(e){var n=e.level,t=e.ascension,f=e.setBoth,v=e.useLow,j=void 0!==v&&v,m=(0,c.$)("ui").t,Z=j?d.sU:d.SJ,C=(0,l.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e=(0,u.uZ)(e,1,j?d.d8:d.Qq);var n=Z.findIndex((function(n){return e<=n}));f({level:e,ascension:n})}),[f,Z,j]),g=(0,l.useCallback)((function(){var e=Z.findIndex((function(e){return 90!==n&&n===e}));f(t===e?{ascension:t+1}:{ascension:e})}),[f,Z,t,n]);return(0,p.jsxs)(a.Z,{sx:{bgcolor:function bgcolor(e){return e.palette.contentDark.main}},children:[(0,p.jsx)(x.CC,{children:(0,p.jsx)(x.ZP,{onChange:C,value:n,startAdornment:"Lv. ",inputProps:{min:1,max:90,sx:{textAlign:"center",width:"3em"}},sx:{height:"100%",pl:2}})}),(0,p.jsx)(o.Z,{sx:{pl:1,whiteSpace:"nowrap"},disabled:!(j?d.nB:d.ek)(n),onClick:g,children:(0,p.jsxs)("strong",{children:["/ ",d.SJ[t]]})}),(0,p.jsx)(h.Z,{title:m("selectlevel"),sx:{flexGrow:1},children:(0,s.Z)(j?d.vF:d.D4).map((function(e){var s=(0,i.Z)(e,2),a=s[0],o=s[1],l=a===n&&o===t;return(0,p.jsx)(r.Z,{selected:l,disabled:l,onClick:function onClick(){return f({level:a,ascension:o})},children:a===Z[o]?"Lv. ".concat(a):"Lv. ".concat(a,"/").concat(Z[o])},"".concat(a,"/").concat(o))}))})]})}},6805:function(e,n,t){t.d(n,{Z:function(){return RefinementDropdown}});var i=t(23786),s=t(22020),a=t(24351),o=t(33890),r=t(80184);function RefinementDropdown(e){var n=e.refinement,t=e.setRefinement,l=(0,s.$)("ui").t;return(0,r.jsx)(o.Z,{title:l("refinement",{value:n}),children:a.a.map((function(e){return(0,r.jsx)(i.Z,{onClick:function onClick(){return t(e)},selected:n===e,disabled:n===e,children:l("refinement",{value:e})},e)}))})}},74476:function(e,n,t){t.r(n),t.d(n,{default:function(){return WeaponEditor}});var i=t(29439),s=t(40117),a=t(62002),o=t(39504),r=t(61889),l=t(64554),c=t(20890),d=t(2199),u=t(24518),x=t(9585),h=t(94721),p=t(15021),f=t(72791),v=t(3992),j=t(71310),m=t(30066),Z=t(68198),C=t(37503),g=t(88034),y=t(29371),b=t(9321),k=t(6805),D=t(10157),S=t(13746),w=t(60705),R=t(947),H=t(2139),P=t(66218),B=t(66101),I=t(27235),N=t(73036),W=t(24711),L=t(12761),E=t(42320),O=t(74480),z=t(80184),T=f.lazy((function(){return t.e(409).then(t.bind(t,44361))}));function WeaponEditor(e){var n,t=e.weaponId,F=e.footer,M=void 0!==F&&F,G=e.onClose,K=e.extraButtons,Y=(0,f.useContext)(S.R).data,A=(0,f.useContext)(w.M).setFormulaData,J=(0,f.useContext)(B.t).database,q=(0,O.Z)(t),V=null!==q&&void 0!==q?q:{},U=V.key,$=void 0===U?"":U,_=V.level,Q=void 0===_?0:_,X=V.refinement,ee=void 0===X?1:X,ne=V.ascension,te=void 0===ne?0:ne,ie=V.lock,se=V.location,ae=void 0===se?"":se,oe=V.id,re=(0,E.Z)((function(){return P.Z.get($)}),[$]),le=(0,f.useCallback)((function(e){J.weapons.set(t,e)}),[t,J]),ce=(0,L.Z)().gender,de=(0,E.Z)((function(){return ae?R.Z.get(J.chars.LocationToCharacterKey(ae),ce):void 0}),[J,ce,ae]),ue=de&&de.weaponTypeKey,xe=(0,f.useCallback)((function(e){return oe&&J.weapons.set(oe,{location:e})}),[J,oe]),he=(0,f.useCallback)((function(e){return e.weaponTypeKey===(null===re||void 0===re?void 0:re.weaponType)}),[re]),pe=(0,W.Z)(),fe=(0,i.Z)(pe,3),ve=fe[0],je=fe[1],me=fe[2],Ze=null===re||void 0===re?void 0:re.getImg(te);(0,f.useEffect)((function(){if(re&&le&&re.key===(null===q||void 0===q?void 0:q.key)&&re.rarity<=2&&(Q>70||te>4)){var e=(0,i.Z)(H.vF[0],2),n=e[0],t=e[1];le({level:n,ascension:t})}}),[re,q,le,Q,te]);var Ce=(0,f.useMemo)((function(){return re&&q&&(0,N.mP)([re.data,(0,N.v0)(q)])}),[re,q]);return(0,z.jsx)(b.Z,{open:!!t,onClose:G,containerProps:{maxWidth:"md"},children:(0,z.jsxs)(j.Z,{children:[(0,z.jsx)(T,{ascension:te,show:ve,onHide:me,onSelect:function onSelect(e){return le({key:e})},weaponTypeFilter:ue}),(0,z.jsx)(o.Z,{children:re&&Ce&&(0,z.jsxs)(r.ZP,{container:!0,spacing:1.5,children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,sm:3,children:(0,z.jsxs)(r.ZP,{container:!0,spacing:1.5,children:[(0,z.jsx)(r.ZP,{item:!0,xs:6,sm:12,children:(0,z.jsx)(l.Z,{component:"img",src:Ze,className:"grad-".concat(re.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,z.jsx)(r.ZP,{item:!0,xs:6,sm:12,children:(0,z.jsx)(c.Z,{children:(0,z.jsx)("small",{children:re.description})})})]})}),(0,z.jsxs)(r.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,z.jsx)(l.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:(0,z.jsxs)(d.Z,{children:[(0,z.jsx)(u.Z,{color:"info",onClick:je,children:null!==(n=null===re||void 0===re?void 0:re.name)&&void 0!==n?n:"Select a Weapon"}),(null===re||void 0===re?void 0:re.hasRefinement)&&(0,z.jsx)(k.Z,{refinement:ee,setRefinement:function setRefinement(e){return le({refinement:e})}}),K]})}),(0,z.jsxs)(l.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[re&&(0,z.jsx)(y.Z,{level:Q,ascension:te,setBoth:le,useLow:!re.hasRefinement}),(0,z.jsx)(u.Z,{color:"error",onClick:function onClick(){return oe&&J.weapons.set(oe,{lock:!ie})},startIcon:ie?(0,z.jsx)(s.Z,{}):(0,z.jsx)(a.Z,{}),children:ie?"Locked":"Unlocked"})]}),(0,z.jsx)(c.Z,{children:(0,z.jsx)(D.q,{stars:re.rarity})}),(0,z.jsx)(c.Z,{variant:"subtitle1",children:(0,z.jsx)("strong",{children:re.passiveName})}),(0,z.jsx)(c.Z,{gutterBottom:!0,children:re.passiveName&&re.passiveDescription(Ce.get(I.ri.weapon.refineIndex).value)}),(0,z.jsxs)(l.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,z.jsxs)(v.Z,{children:[(0,z.jsx)(x.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,z.jsx)(h.Z,{}),(0,z.jsx)(g.lD,{children:[I.ri.weapon.main,I.ri.weapon.sub,I.ri.weapon.sub2].map((function(e){var n=Ce.get(e);return n.isEmpty||!n.value?null:(0,z.jsx)(g.JW,{node:n,component:p.ZP,data:Y,setFormulaData:A},JSON.stringify(n.info))}))})]}),Y&&re.document&&(0,z.jsx)(C.Z,{sections:re.document})]})]})]})}),M&&oe&&(0,z.jsx)(o.Z,{sx:{py:1},children:(0,z.jsxs)(r.ZP,{container:!0,spacing:1,children:[(0,z.jsx)(r.ZP,{item:!0,flexGrow:1,children:(0,z.jsx)(m.W,{location:ae,setLocation:xe,filter:he,autoCompleteProps:{getOptionDisabled:function getOptionDisabled(e){return!e.key},disableClearable:!0}})}),(0,z.jsx)(r.ZP,{item:!0,flexGrow:2}),!!G&&(0,z.jsx)(r.ZP,{item:!0,children:(0,z.jsx)(Z.Z,{sx:{height:"100%"},large:!0,onClick:G})})]})})]})})}},72247:function(e,n,t){var i=t(74223),s=t(80184);n.Z=(0,i.Z)((0,s.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox")},9912:function(e,n,t){var i=t(74223),s=t(80184);n.Z=(0,i.Z)((0,s.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank")}}]);
//# sourceMappingURL=476.1e5db13a.chunk.js.map