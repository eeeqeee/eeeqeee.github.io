"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[409,361],{73578:function(e,n,i){i.d(n,{Z:function(){return WeaponToggle}});var r=i(1413),t=i(45987),s=i(93433),a=i(90388),o=i(10658),l=i(24351),c=i(75308),u=i(55942),d=i(91839),x=i(80184),h=["value","onChange"],p=(0,c.X)((0,s.Z)(l.yd));function WeaponToggle(e){var n=e.value,i=e.onChange,s=(0,t.Z)(e,h);return(0,x.jsx)(d.Z,(0,r.Z)((0,r.Z)({exclusive:!0,value:n},s),{},{children:l.yd.map((function(e){var r;return(0,x.jsx)(a.Z,{value:e,onClick:function onClick(){return i(p(n,e))},children:(0,x.jsx)(u.Z,{src:null===(r=o.Z.weaponTypes)||void 0===r?void 0:r[e],size:2})},e)}))}))}},44361:function(e,n,i){i.r(n),i.d(n,{default:function(){return WeaponSelectionModal}});var r=i(29439),t=i(93433),s=i(39504),a=i(61889),o=i(90388),l=i(64554),c=i(58165),u=i(94721),d=i(66647),x=i(20890),h=i(72791),p=i(22020),Z=i(10658),f=i(66218),j=i(66101),g=i(42320),v=i(24351),m=i(75308),y=i(3992),C=i(71310),w=i(68198),k=i(55942),P=i(9321),T=i(91839),W=i(10157),b=i(73578),z=i(80184),S=(0,m.X)((0,t.Z)(v.wC));function WeaponSelectionModal(e){var n=e.show,i=e.ascension,m=void 0===i?0:i,_=e.onHide,N=e.onSelect,G=e.filter,q=void 0===G?function(){return!0}:G,E=e.weaponTypeFilter,F=(0,p.$)(["page_weapon","weaponNames_gen"]).t,I=(0,g.Z)((function(){return f.Z.getAll}),[]),L=(0,h.useState)(E?[E]:(0,t.Z)(v.yd)),M=(0,r.Z)(L,2),X=M[0],A=M[1],D=(0,h.useContext)(j.t).database,H=(0,h.useState)(D.displayWeapon.get()),V=(0,r.Z)(H,2),$=V[0],B=V[1];(0,h.useEffect)((function(){return D.displayWeapon.follow((function(e,n){return B(n)}))}),[D]),(0,h.useEffect)((function(){return E&&A([E])}),[E]);var J=(0,h.useState)(""),K=(0,r.Z)(J,2),O=K[0],Q=K[1],R=(0,h.useDeferredValue)(O),U=$.rarity,Y=I?v.fG.filter((function(e){return q(I(e))})).filter((function(e){return X.includes(I(e).weaponType)})).filter((function(e){return!R||F("weaponNames_gen:".concat(e)).toLowerCase().includes(R.toLowerCase())})).filter((function(e){return U.includes(I(e).rarity)})).sort((function(e,n){return I(n).rarity-I(e).rarity})):[];return I?(0,z.jsx)(P.Z,{open:n,onClose:_,children:(0,z.jsxs)(y.Z,{children:[(0,z.jsx)(s.Z,{sx:{py:1},children:(0,z.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,z.jsx)(a.ZP,{item:!0,children:(0,z.jsx)(b.Z,{value:X,onChange:A,disabled:!!E,size:"small"})}),(0,z.jsx)(a.ZP,{item:!0,children:(0,z.jsx)(T.Z,{sx:{height:"100%"},value:U,size:"small",children:v.wC.map((function(e){return(0,z.jsx)(o.Z,{value:e,onClick:function onClick(){return D.displayWeapon.set({rarity:S(U,e)})},children:(0,z.jsxs)(l.Z,{display:"flex",gap:1,children:[(0,z.jsx)("strong",{children:e}),(0,z.jsx)(W.q,{stars:1})]})},e)}))})}),(0,z.jsx)(a.ZP,{item:!0,flexGrow:1,children:(0,z.jsx)(c.Z,{autoFocus:!0,size:"small",value:O,onChange:function onChange(e){return Q(e.target.value)},label:F("weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,z.jsx)(a.ZP,{item:!0,children:(0,z.jsx)(w.Z,{onClick:_})})]})}),(0,z.jsx)(u.Z,{}),(0,z.jsx)(s.Z,{children:(0,z.jsx)(a.ZP,{container:!0,spacing:1,children:Y.map((function(e){var n,i=I(e);return(0,z.jsx)(a.ZP,{item:!0,lg:3,md:4,children:(0,z.jsx)(C.Z,{sx:{height:"100%"},children:(0,z.jsxs)(d.Z,{onClick:function onClick(){_(),N(e)},sx:{display:"flex"},children:[(0,z.jsx)(l.Z,{component:"img",src:i.getImg(m),sx:{width:100,height:"auto"},className:" grad-".concat(i.rarity,"star")}),(0,z.jsxs)(l.Z,{sx:{flexGrow:1,px:1},children:[(0,z.jsx)(x.Z,{variant:"subtitle1",children:i.name}),(0,z.jsxs)(x.Z,{children:[(0,z.jsx)(k.Z,{src:null===(n=Z.Z.weaponTypes)||void 0===n?void 0:n[i.weaponType]})," ",(0,z.jsx)(W.q,{stars:i.rarity,colored:!0})]})]})]})})},e)}))})}),(0,z.jsx)(u.Z,{}),(0,z.jsx)(s.Z,{sx:{py:1},children:(0,z.jsx)(w.Z,{large:!0,onClick:_})})]})}):null}}}]);
//# sourceMappingURL=409.f1e4feb2.chunk.js.map