"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[673,182],{70867:function(e,t,n){n.d(t,{mY:function(){return ArtifactMainStatMultiAutocomplete},N5:function(){return ArtifactSetMultiAutocomplete},Y4:function(){return ArtifactSetSingleAutocomplete},mW:function(){return ArtifactSubstatMultiAutocomplete}});var r=n(29439),a=n(1413),i=n(45987),o=n(13967),l=n(94198),u=n(58165),c=n(81918),s=n(90493),f=n(64554),d=n(79834),g=n(72791),p=n(22020),m=n(31148),y=n(72828),h=n(79406),v=n(42320),x=n(50765),Z=n(24351),b=n(91702),A=n(23786),j=n(57064),k=n(49900),K=n(80184);function MenuItemWithImage(e){var t=e.value,n=e.image,r=void 0===n?"":n,i=e.text,o=e.theme,l=e.isSelected,u=e.addlElement,c=e.props;return(0,K.jsxs)(A.Z,(0,a.Z)((0,a.Z)({value:t},c),{},{children:[(0,K.jsx)(j.Z,{children:r}),(0,K.jsx)(k.Z,{primaryTypographyProps:{style:{fontWeight:l?o.typography.fontWeightMedium:o.typography.fontWeightRegular}},children:i}),u&&u]}),t)}var S=n(68244),L=n(10157),C=n(75545),w=["allArtifactKeysWithGrouper","selectedArtifactKeys","setArtifactKeys","getName","getImage","label"],I=["artSetKeys","setArtSetKeys"],M=["mainStatKeys","setMainStatKeys"],N=["substatKeys","setSubstatKeys"],P=["allArtifactKeysWithGrouper","selectedArtifactKey","setArtifactKey","getName","getImage","label","disable","showDefault","defaultText","defaultIcon"],W=["artSetKey","setArtSetKey","label"];function ArtifactMultiAutocomplete(e){var t=e.allArtifactKeysWithGrouper,n=e.selectedArtifactKeys,r=e.setArtifactKeys,s=e.getName,f=e.getImage,d=e.label,p=(0,i.Z)(e,w),m=(0,o.Z)(),y=(0,g.useMemo)((function(){return t.map((function(e){var t=e.key,n=e.grouper;return{key:t,label:s(t),grouper:n}}))}),[t,s]);return(0,K.jsx)(l.Z,(0,a.Z)({autoHighlight:!0,multiple:!0,disableCloseOnSelect:!0,options:y,value:n.map((function(e){return{key:e,label:s(e)}})),onChange:function handleChange(e,t){r(t.map((function(e){return e.key})))},getOptionLabel:function getOptionLabel(e){return e.label},isOptionEqualToValue:function isOptionEqualToValue(e,t){return e.key===t.key},renderInput:function renderInput(e){return(0,K.jsx)(u.Z,(0,a.Z)((0,a.Z)({},e),{},{label:d,variant:"filled",InputLabelProps:{style:{color:m.palette.text.primary}},color:n.length?"success":"primary",type:"search"}))},renderOption:function renderOption(e,t){return(0,K.jsx)(MenuItemWithImage,{value:t.key,image:(0,K.jsx)(b.Z,{color:h.ZP.getVariant(t.key),children:f(t.key)}),text:(0,K.jsx)(b.Z,{color:h.ZP.getVariant(t.key),children:t.label}),theme:m,isSelected:n.includes(t.key),props:e},t.key)},renderTags:function renderTags(e,t){return e.map((function(e,n){var r=Z.Kj.find((function(t){return e.key==="".concat(t,"_dmg_")})),i=r||void 0;return(0,g.createElement)(c.Z,(0,a.Z)((0,a.Z)({},t({index:n})),{},{key:e.key,icon:f(e.key),label:e.label,color:i}))}))}},p))}function ArtifactSetMultiAutocomplete(e){var t=e.artSetKeys,n=e.setArtSetKeys,o=(0,i.Z)(e,I),l=(0,v.Z)((function(){return m.y.getAll}),[]),u=(0,p.$)(["artifact","artifactNames_gen"]).t;if(!l)return null;var c=Object.entries(m.y.setKeysByRarities(l)).flatMap((function(e){var t=(0,r.Z)(e,2),n=t[0];return t[1].map((function(e){return{key:e,grouper:+n}}))})).sort(sortByRarityAndName);return(0,K.jsx)(ArtifactMultiAutocomplete,(0,a.Z)({allArtifactKeysWithGrouper:c,selectedArtifactKeys:t,setArtifactKeys:n,getName:function getName(e){return u("artifactNames_gen:".concat(e))},getImage:function getImage(e){return l(e).defIcon},label:u("artifact:autocompleteLabels.sets"),groupBy:function groupBy(e){var t,n;return null!==(t=null===(n=e.grouper)||void 0===n?void 0:n.toString())&&void 0!==t?t:""},renderGroup:function renderGroup(e){return e.group&&(0,K.jsxs)(s.Z,{component:f.Z,children:[(0,K.jsxs)(d.Z,{sx:{top:"-1em"},children:[e.group," ",(0,K.jsx)(L.q,{stars:+e.group})]},"".concat(e.group,"Header")),e.children]},e.group)}},o))}function ArtifactMainStatMultiAutocomplete(e){var t=e.mainStatKeys,n=e.setMainStatKeys,r=(0,i.Z)(e,M),o=(0,p.$)("artifact").t;return(0,K.jsx)(ArtifactMultiAutocomplete,(0,a.Z)({allArtifactKeysWithGrouper:x.r.map((function(e){return{key:e}})),selectedArtifactKeys:t,setArtifactKeys:n,getName:function getName(e){return h.ZP.getArtStr(e)},getImage:function getImage(e){return C.Z[e]},label:o("autocompleteLabels.mainStats")},r))}function ArtifactSubstatMultiAutocomplete(e){var t=e.substatKeys,n=e.setSubstatKeys,r=(0,i.Z)(e,N),o=(0,p.$)("artifact").t;return(0,K.jsx)(ArtifactMultiAutocomplete,(0,a.Z)({allArtifactKeysWithGrouper:x._.map((function(e){return{key:e}})),selectedArtifactKeys:t,setArtifactKeys:n,getName:function getName(e){return h.ZP.getArtStr(e)},getImage:function getImage(e){return C.Z[e]},label:o("autocompleteLabels.substats")},r))}function ArtifactSingleAutocomplete(e){var t=e.allArtifactKeysWithGrouper,n=e.selectedArtifactKey,r=e.setArtifactKey,u=e.getName,c=e.getImage,s=e.label,f=e.disable,d=void 0===f?function(){return!1}:f,p=e.showDefault,m=void 0!==p&&p,y=e.defaultText,h=void 0===y?"":y,v=(e.defaultIcon,(0,i.Z)(e,P)),x=(0,o.Z)(),Z=(0,g.useMemo)((function(){return(m?[{key:"",label:h}]:[]).concat(t.map((function(e){var t=e.key,n=e.grouper;return{key:t,label:u(t),grouper:n}})))}),[t,u,h,m]);return(0,K.jsx)(l.Z,(0,a.Z)({autoHighlight:!0,options:Z,clearIcon:n?void 0:"",value:{key:n,label:u(n)},onChange:function onChange(e,t,n){return("change"!==e.type||"clear"!==n)&&r(t?t.key:"")},getOptionLabel:function getOptionLabel(e){return e.label?e.label:h},isOptionEqualToValue:function isOptionEqualToValue(e,t){return e.key===t.key},getOptionDisabled:function getOptionDisabled(e){return d(e.key)},renderInput:function renderInput(e){return(0,K.jsx)(S.Z,(0,a.Z)((0,a.Z)({},e),{},{label:s,startAdornment:c(n),hasValue:!!n}))},renderOption:function renderOption(e,t){return(0,K.jsx)(MenuItemWithImage,{value:t.key,image:c(t.key),text:t.label,theme:x,isSelected:n===t.key,props:e},t.key)}},v))}function ArtifactSetSingleAutocomplete(e){var t=e.artSetKey,n=e.setArtSetKey,o=e.label,l=void 0===o?"":o,u=(0,i.Z)(e,W),c=(0,v.Z)((function(){return m.y.getAll}),[]),g=(0,p.$)(["artifact","artifactNames_gen"]).t;if(l=l||g("artifact:autocompleteLabels.set"),!c)return null;var y=Object.entries(m.y.setKeysByRarities(c)).flatMap((function(e){var t=(0,r.Z)(e,2),n=t[0];return t[1].map((function(e){return{key:e,grouper:+n}}))})).sort(sortByRarityAndName);return(0,K.jsx)(ArtifactSingleAutocomplete,(0,a.Z)({allArtifactKeysWithGrouper:y,selectedArtifactKey:t,setArtifactKey:n,getName:function getName(e){return e&&g("artifactNames_gen:".concat(e))},getImage:function getImage(e){return e?c(e).defIcon:(0,K.jsx)(K.Fragment,{})},label:l,groupBy:function groupBy(e){var t,n;return null!==(t=null===(n=e.grouper)||void 0===n?void 0:n.toString())&&void 0!==t?t:""},renderGroup:function renderGroup(e){return e.group&&(0,K.jsxs)(s.Z,{component:f.Z,children:[(0,K.jsxs)(d.Z,{sx:{top:"-1em"},children:[e.group," ",(0,K.jsx)(L.q,{stars:+e.group})]},"".concat(e.group,"Header")),e.children]},e.group)}},u))}function sortByRarityAndName(e,t){if(e.grouper>t.grouper)return-1;if(e.grouper<t.grouper)return 1;var n=y.Z.t("artifactNames_gen:".concat(e.key)),r=y.Z.t("artifactNames_gen:".concat(t.key));return n<r?-1:n>r?1:0}},37673:function(e,t,n){n.r(t),n.d(t,{default:function(){return ArtifactFilterDisplay}});var r,a,i,o,l=n(93433),u=n(53174),c=n(54483),s=n(62002),f=n(40117),d=n(61889),g=n(90388),p=n(64554),m=n(22020),y=n(76899),h=n(24351),v=n(75308),x=n(91839),Z=n(10157),b=n(70867),A=n(21977),j=n(30168),k=n(63204),K=n(73576),S=n(47047),L=n(72791),C=n(947),w=n(66101),I=n(12761),M=n(42320),N=n(2380),P=n(84082),W=n(80184);function LocationFilterAutocomplete(e){var t=e.location,n=e.setLocation,u=(0,m.$)(["ui","artifact","charNames_gen"]).t,c=(0,L.useContext)(w.t).database,s=(0,I.Z)().gender,f=(0,M.Z)((function(){return C.Z.getAll}),[]),d=(0,L.useCallback)((function(e){return u("charNames_gen:".concat((0,h.LP)(c.chars.LocationToCharacterKey(e),s)))}),[c,s,u]),g=(0,L.useCallback)((function(e){var t;switch(e){case"":return(0,W.jsx)(W.Fragment,{});case"Inventory":return(0,W.jsx)(k.Z,{});case"Equipped":return(0,W.jsx)(K.Z,{});default:return f?(0,W.jsx)(N.Z,{src:null===(t=f(c.chars.LocationToCharacterKey(e),s))||void 0===t?void 0:t.thumbImgSide,sx:{pr:1}}):(0,W.jsx)(W.Fragment,{})}}),[c,s,f]),p=(0,L.useCallback)((function(e){return"Traveler"===e?h._0.some((function(e){return c.charMeta.get(e).favorite})):!!e&&c.charMeta.get(e).favorite}),[c]),y=(0,L.useMemo)((function(){return[{key:"",label:u(r||(r=(0,j.Z)(["artifact:filterLocation.any"])))},{key:"Equipped",label:u(a||(a=(0,j.Z)(["artifact:filterLocation.currentlyEquipped"])))},{key:"Inventory",label:u(i||(i=(0,j.Z)(["artifact:filterLocation.inventory"])))}].concat((0,l.Z)(h.xB.filter((function(e){return c.chars.get(c.chars.LocationToCharacterKey(e))})).map((function(e){return{key:e,label:d(e),favorite:p(e)}})).sort((function(e,t){return e.favorite&&!t.favorite?-1:!e.favorite&&t.favorite?1:e.label.localeCompare(t.label)}))))}),[u,d,p,c]);return(0,W.jsx)(L.Suspense,{fallback:(0,W.jsx)(S.Z,{variant:"text",width:100}),children:(0,W.jsx)(P.Z,{size:"small",options:y,valueKey:t,onChange:n,toImg:g,clearKey:"",label:u(o||(o=(0,j.Z)(["artifact:filterLocation.location"])))})})}var H=n(29439),O=n(57621),T=n(10889),E=n(60393),B=n(10600);function RVSlide(e){var t=e.levelLow,n=e.levelHigh,r=e.setLow,a=e.setHigh,i=e.setBoth,o=e.dark,l=void 0!==o&&o,u=e.disabled,c=void 0!==u&&u,s=(0,L.useState)(t),f=(0,H.Z)(s,2),d=f[0],g=f[1],p=(0,L.useState)(n),m=(0,H.Z)(p,2),y=m[0],h=m[1],v=(0,L.useCallback)((function(e,t){if("number"==typeof t)throw new TypeError;var n=(0,H.Z)(t,2),r=n[0],a=n[1];g(r),h(a)}),[g,h]);return(0,L.useEffect)((function(){return g(t)}),[g,t]),(0,L.useEffect)((function(){return h(n)}),[h,n]),(0,W.jsxs)(O.Z,{sx:{width:"100%",display:"flex",alignItems:"center",bgcolor:l?"contentDark.main":"contentLight.main"},children:[(0,W.jsx)(B.ZP,{value:d,onChange:function onChange(e){return r((0,E.uZ)(e,0,n))},sx:{px:1,pl:2,width:100},inputProps:{sx:{textAlign:"right"}},startAdornment:"RV: ",disabled:c}),(0,W.jsx)(T.ZP,{sx:{width:100,flexGrow:1,mx:2},getAriaLabel:function getAriaLabel(){return"Arifact RV Range"},value:[d,y],onChange:v,onChangeCommitted:function onChangeCommitted(e,t){return i(t[0],t[1])},valueLabelDisplay:"auto",min:0,max:900,disabled:c}),(0,W.jsx)(B.ZP,{value:y,onChange:function onChange(e){return a((0,E.uZ)(e,t,900))},sx:{px:1,width:50},inputProps:{sx:{textAlign:"center"}},disabled:c})]})}var G=n(95614),_=["excluded","included"],D=["locked","unlocked"],V=(0,v.X)((0,l.Z)(h.En)),R=(0,v.X)((0,l.Z)(h.eV)),z=(0,v.X)([].concat(_)),q=(0,v.X)([].concat(D)),F=(0,v.X)([1,2,3,4]);function ArtifactFilterDisplay(e){var t=e.filterOption,n=e.filterOptionDispatch,r=e.disableSlotFilter,a=void 0!==r&&r,i=(0,m.$)(["artifact","ui"]).t,o=t.artSetKeys,l=void 0===o?[]:o,v=t.mainStatKeys,j=void 0===v?[]:v,k=t.rarity,K=void 0===k?[]:k,S=t.slotKeys,L=void 0===S?[]:S,C=t.levelLow,w=void 0===C?0:C,I=t.levelHigh,M=void 0===I?20:I,N=t.substats,P=void 0===N?[]:N,H=t.location,O=void 0===H?"":H,T=t.exclusion,E=void 0===T?[].concat(_):T,B=t.locked,X=void 0===B?[].concat(D):B,$=t.rvLow,Y=void 0===$?0:$,J=t.rvHigh,Q=void 0===J?900:J,U=t.lines,ee=void 0===U?[]:U;return(0,W.jsxs)(d.ZP,{container:!0,spacing:1,children:[(0,W.jsxs)(d.ZP,{item:!0,xs:12,md:6,display:"flex",flexDirection:"column",gap:1,children:[(0,W.jsx)(x.Z,{fullWidth:!0,value:K,size:"small",children:h.En.map((function(e){return(0,W.jsx)(g.Z,{value:e,onClick:function onClick(){return n({rarity:V(K,e)})},children:(0,W.jsx)(Z.q,{stars:e})},e)}))}),(0,W.jsx)(x.Z,{fullWidth:!0,value:L,size:"small",disabled:a,children:h.eV.map((function(e){return(0,W.jsx)(g.Z,{value:e,onClick:function onClick(){return n({slotKeys:R(L,e)})},children:(0,G.Ir)(e)},e)}))}),(0,W.jsxs)(p.Z,{display:"flex",gap:1,children:[(0,W.jsx)(x.Z,{fullWidth:!0,value:E,size:"small",children:_.map((function(e,t){return(0,W.jsxs)(g.Z,{value:e,sx:{display:"flex",gap:1},onClick:function onClick(){return n({exclusion:z(E,e)})},children:[(0,W.jsx)(c.G,{icon:t?u.Stf:u.gPx}),(0,W.jsx)(y.c,{i18nKey:"exclusion.".concat(e),t:i})]},e)}))}),(0,W.jsx)(x.Z,{fullWidth:!0,value:X,size:"small",children:D.map((function(e,t){return(0,W.jsxs)(g.Z,{value:e,sx:{display:"flex",gap:1},onClick:function onClick(){return n({locked:q(X,e)})},children:[t?(0,W.jsx)(s.Z,{}):(0,W.jsx)(f.Z,{}),(0,W.jsx)(y.c,{i18nKey:"ui:".concat(e),t:i})]},e)}))})]}),(0,W.jsx)(x.Z,{fullWidth:!0,value:ee,size:"small",children:[1,2,3,4].map((function(e){return(0,W.jsx)(g.Z,{value:e,onClick:function onClick(){return n({lines:F(ee,e)})},children:i("substat",{count:e})},e)}))}),(0,W.jsx)(A.Z,{showLevelText:!0,levelLow:w,levelHigh:M,setLow:function setLow(e){return n({levelLow:e})},setHigh:function setHigh(e){return n({levelHigh:e})},setBoth:function setBoth(e,t){return n({levelLow:e,levelHigh:t})}}),(0,W.jsx)(RVSlide,{showLevelText:!0,levelLow:Y,levelHigh:Q,setLow:function setLow(e){return n({rvLow:e})},setHigh:function setHigh(e){return n({rvHigh:e})},setBoth:function setBoth(e,t){return n({rvLow:e,rvHigh:t})}})]}),(0,W.jsxs)(d.ZP,{item:!0,xs:12,md:6,display:"flex",flexDirection:"column",gap:1,children:[(0,W.jsx)(b.N5,{artSetKeys:l,setArtSetKeys:function setArtSetKeys(e){return n({artSetKeys:e})}}),(0,W.jsx)(b.mY,{mainStatKeys:j,setMainStatKeys:function setMainStatKeys(e){return n({mainStatKeys:e})}}),(0,W.jsx)(b.mW,{substatKeys:P,setSubstatKeys:function setSubstatKeys(e){return n({substats:e})}}),(0,W.jsx)(LocationFilterAutocomplete,{location:O,setLocation:function setLocation(e){return n({location:e})}})]})]})}},21977:function(e,t,n){n.d(t,{Z:function(){return ArtifactLevelSlider}});var r=n(29439),a=n(57621),i=n(10889),o=n(72791),l=n(60393),u=n(10600),c=n(80184);function ArtifactLevelSlider(e){var t=e.levelLow,n=e.levelHigh,s=e.setLow,f=e.setHigh,d=e.setBoth,g=e.dark,p=void 0!==g&&g,m=e.disabled,y=void 0!==m&&m,h=e.showLevelText,v=void 0!==h&&h,x=(0,o.useState)(t),Z=(0,r.Z)(x,2),b=Z[0],A=Z[1],j=(0,o.useState)(n),k=(0,r.Z)(j,2),K=k[0],S=k[1],L=(0,o.useCallback)((function(e,t){if("number"==typeof t)throw new TypeError;var n=(0,r.Z)(t,2),a=n[0],i=n[1];A(a),S(i)}),[A,S]);return(0,o.useEffect)((function(){return A(t)}),[A,t]),(0,o.useEffect)((function(){return S(n)}),[S,n]),(0,c.jsxs)(a.Z,{sx:{width:"100%",display:"flex",alignItems:"center",bgcolor:p?"contentDark.main":"contentLight.main"},children:[(0,c.jsx)(u.ZP,{value:b,onChange:function onChange(e){return s((0,l.uZ)(e,0,n))},sx:{px:1,pl:v?2:void 0,width:v?100:50},inputProps:{sx:{textAlign:v?"right":"center"}},startAdornment:v?"Level: ":void 0,disabled:y}),(0,c.jsx)(i.ZP,{sx:{width:100,flexGrow:1,mx:2},getAriaLabel:function getAriaLabel(){return"Arifact Level Range"},value:[b,K],onChange:L,onChangeCommitted:function onChangeCommitted(e,t){return d(t[0],t[1])},valueLabelDisplay:"auto",min:0,max:20,step:1,marks:!0,disabled:y}),(0,c.jsx)(u.ZP,{value:K,onChange:function onChange(e){return f((0,l.uZ)(e,t,20))},sx:{px:1,width:50},inputProps:{sx:{textAlign:"center"}},disabled:y})]})}},75308:function(e,t,n){n.d(t,{X:function(){return handleMultiSelect}});var r=n(93433),a=n(60393);function handleMultiSelect(e){return function(t,n){var i=t.length;return i===e.length?[n]:1===i&&t[0]===n?(0,r.Z)(e):(0,r.Z)(new Set((0,a.nh)(t,n)))}}},73576:function(e,t,n){var r=n(74223),a=n(80184);t.Z=(0,r.Z)([(0,a.jsx)("circle",{cx:"10",cy:"8",r:"4"},"0"),(0,a.jsx)("path",{d:"M10.35 14.01C7.62 13.91 2 15.27 2 18v2h9.54c-2.47-2.76-1.23-5.89-1.19-5.99zm9.08 4.01c.36-.59.57-1.28.57-2.02 0-2.21-1.79-4-4-4s-4 1.79-4 4 1.79 4 4 4c.74 0 1.43-.22 2.02-.57L20.59 22 22 20.59l-2.57-2.57zM16 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},"1")],"PersonSearch")}}]);
//# sourceMappingURL=673.86b72ccf.chunk.js.map