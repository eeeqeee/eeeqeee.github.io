{"version":3,"file":"878.af4ad984d30ddb44.js","mappings":"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","sources":["webpack:///../../node_modules/@mui/icons-material/esm/CheckBox.js","webpack:///../../node_modules/@mui/icons-material/esm/CheckBoxOutlineBlank.js","webpack:///./src/app/Components/Card/CardHeaderCustom.tsx","webpack:///./src/app/Components/Conditional/ConditionalSelector.tsx","webpack:///./src/app/Components/Conditional/ConditionalDisplay.tsx","webpack:///./src/app/Components/DocumentDisplay.tsx","webpack:///./src/app/Components/LevelSelect.tsx","webpack:///./src/app/Components/RefinementDropdown.tsx","webpack:///./src/app/PageWeapon/WeaponEditor.tsx"],"sourcesContent":["import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","import { Typography, Box } from \"@mui/material\";\n\nexport default function CardHeaderCustom({ avatar, title, action }: { avatar?: Displayable, title: Displayable, action?: Displayable }) {\n  return <Box display=\"flex\" gap={1} p={2} alignItems=\"center\" >\n    {avatar}\n    <Typography variant=\"subtitle1\" sx={{ flexGrow: 1 }}>{title}</Typography>\n    {action && <Typography variant=\"caption\">{action}</Typography>}\n  </Box>\n}\n","import { CheckBox, CheckBoxOutlineBlank } from '@mui/icons-material';\r\nimport { Button, ButtonGroup, ButtonProps, Divider, MenuItem } from '@mui/material';\r\nimport React, { useCallback, useContext } from 'react';\r\nimport { CharacterContext } from '../../Context/CharacterContext';\r\nimport { DataContext } from '../../Context/DataContext';\r\nimport { DocumentConditional, IDocumentConditionalExclusive, IDocumentConditionalMultiple } from '../../Types/sheet';\r\nimport { deepClone, deletePropPath, layeredAssignment } from '../../Util/Util';\r\nimport DropdownButton from '../DropdownMenu/DropdownButton';\r\nimport SqBadge from '../SqBadge';\r\nimport { Translate } from '../Translate';\r\n\r\ninterface ConditionalSelectorProps {\r\n  conditional: DocumentConditional,\r\n  disabled?: boolean,\r\n}\r\nexport default function ConditionalSelector({ conditional, disabled = false, }: ConditionalSelectorProps) {\r\n  if (Object.keys(conditional.states).length === 1 && \"path\" in conditional) {\r\n    return <SimpleConditionalSelector conditional={conditional} disabled={disabled} />\r\n  } else if (\"path\" in conditional) {\r\n    return <ExclusiveConditionalSelector conditional={conditional} disabled={disabled} />\r\n  } else /*if (\"path\" in Object.entries(conditional.states)[0]) */ {\r\n    return <MultipleConditionalSelector conditional={conditional} disabled={disabled} />\r\n  }\r\n}\r\n\r\ninterface SimpleConditionalSelectorProps extends ConditionalSelectorProps {\r\n  conditional: IDocumentConditionalExclusive\r\n}\r\nfunction SimpleConditionalSelector({ conditional, disabled }: SimpleConditionalSelectorProps) {\r\n  const { character, characterDispatch } = useContext(CharacterContext)\r\n  const { data } = useContext(DataContext)\r\n  const setConditional = useCallback((v?: string) => {\r\n    const conditionalValues = deepClone(character.conditional)\r\n    if (v) {\r\n      layeredAssignment(conditionalValues, conditional.path, v)\r\n    } else {\r\n      deletePropPath(conditionalValues, conditional.path)\r\n    }\r\n    characterDispatch({ conditional: conditionalValues })\r\n  }, [conditional, character, characterDispatch])\r\n\r\n  const conditionalValue = data.get(conditional.value).value\r\n  const [stateKey, st] = Object.entries(conditional.states)[0]\r\n  const badge = getStateBadge(st.name)\r\n  const condName = getCondName(conditional.name)\r\n\r\n  return <Button fullWidth size=\"small\" sx={{ borderRadius: 0 }} color={conditionalValue ? \"success\" : \"primary\"} onClick={() => setConditional(conditionalValue ? undefined : stateKey)} disabled={disabled} startIcon={conditionalValue ? <CheckBox /> : <CheckBoxOutlineBlank />}>\r\n    {condName} {badge}\r\n  </Button>\r\n}\r\n\r\ninterface ExclusiveConditionalSelectorProps extends ConditionalSelectorProps {\r\n  conditional: IDocumentConditionalExclusive\r\n}\r\nfunction ExclusiveConditionalSelector({ conditional, disabled }: ExclusiveConditionalSelectorProps) {\r\n  const { character, characterDispatch } = useContext(CharacterContext)\r\n  const { data } = useContext(DataContext)\r\n  const setConditional = useCallback((v?: string) => {\r\n    const conditionalValues = deepClone(character.conditional)\r\n    if (v) {\r\n      layeredAssignment(conditionalValues, conditional.path, v)\r\n    } else {\r\n      deletePropPath(conditionalValues, conditional.path)\r\n    }\r\n    characterDispatch({ conditional: conditionalValues })\r\n  }, [conditional, character, characterDispatch])\r\n\r\n  const conditionalValue = data.get(conditional.value).value\r\n  const state = conditionalValue ? conditional.states[conditionalValue] : undefined\r\n  const badge = state ? getStateBadge(state.name) : <SqBadge color=\"secondary\">Not Active</SqBadge>\r\n  const condName = getCondName(conditional.name)\r\n\r\n  return <DropdownButton fullWidth size=\"small\" sx={{ borderRadius: 0 }} color={conditionalValue ? \"success\" : \"primary\"} title={<span>{condName} {badge}</span>} disabled={disabled}>\r\n    <MenuItem onClick={() => setConditional()} selected={!state} disabled={!state}>\r\n      <span>Not Active</span>\r\n    </MenuItem>\r\n    <Divider />\r\n    {Object.entries(conditional.states).map(([stateKey, st]) =>\r\n      <MenuItem key={stateKey} onClick={() => setConditional(stateKey)} selected={conditionalValue === stateKey} disabled={conditionalValue === stateKey} >{st.name}</MenuItem>)}\r\n  </DropdownButton>\r\n}\r\n\r\ninterface MultipleConditionalSelectorProps extends ConditionalSelectorProps {\r\n  conditional: IDocumentConditionalMultiple\r\n}\r\nfunction MultipleConditionalSelector({ conditional, disabled }: MultipleConditionalSelectorProps) {\r\n  const { character, characterDispatch } = useContext(CharacterContext)\r\n  const { data } = useContext(DataContext)\r\n  const setConditional = useCallback((path: readonly string[], v?: string) => {\r\n    const conditionalValues = deepClone(character.conditional)\r\n    if (v) {\r\n      layeredAssignment(conditionalValues, path, v)\r\n    } else {\r\n      deletePropPath(conditionalValues, path)\r\n    }\r\n    characterDispatch({ conditional: conditionalValues })\r\n  }, [character, characterDispatch])\r\n\r\n  return <ButtonGroup fullWidth orientation=\"vertical\" disableElevation color=\"secondary\" >\r\n    {Object.entries(conditional.states).map(([stateKey, st]) => {\r\n      const conditionalValue = data.get(st.value).value\r\n      const isSelected = conditionalValue === stateKey\r\n      return <Button\r\n        color={isSelected ? \"success\" : \"primary\"}\r\n        disabled={disabled}\r\n        fullWidth\r\n        key={stateKey}\r\n        onClick={() => setConditional(st.path, conditionalValue ? undefined : stateKey)}\r\n        size=\"small\"\r\n        startIcon={isSelected ? <CheckBox /> : <CheckBoxOutlineBlank />}\r\n        sx={{ borderRadius: 0 }}\r\n      >\r\n        {getCondName(st.name)}\r\n      </Button>\r\n    })}\r\n  </ButtonGroup>\r\n}\r\n\r\nfunction isElement(disp: Displayable): disp is JSX.Element {\r\n  return (typeof disp !== \"string\")\r\n}\r\n\r\n// Use colored badges instead of colored text inside these buttons\r\nfunction getStateBadge(stateName: Displayable | undefined): Displayable {\r\n  if (!stateName) return \"\"\r\n\r\n  let badgeColor: ButtonProps['color'] = \"primary\"\r\n  let badgeText = stateName\r\n  if (stateName && isElement(stateName)) {\r\n    if (stateName.props.color) {\r\n      badgeColor = stateName.props.color\r\n      badgeText = <span>{stateName.props.children}</span>\r\n    }\r\n  }\r\n  return <SqBadge sx={{ ml: 0.5 }} color={badgeColor}>{badgeText}</SqBadge>\r\n}\r\n\r\n// Use colored badges instead of colored text inside these buttons\r\nfunction getCondName(condName: Displayable): Displayable {\r\n  if (isElement(condName)) {\r\n    const key = condName.props.key18\r\n    const ns = condName.props.ns\r\n    const values = condName.props.values\r\n    return <Translate ns={ns} key18={key} values={values} useBadge />\r\n  }\r\n  return condName\r\n}\r\n","import { CardContent } from \"@mui/material\"\r\nimport { useContext } from \"react\"\r\nimport { DataContext } from \"../../Context/DataContext\"\r\nimport { DocumentConditional, DocumentSection } from \"../../Types/sheet\"\r\nimport { evalIfFunc } from \"../../Util/Util\"\r\nimport CardDark from \"../Card/CardDark\"\r\nimport { HeaderDisplay } from \"../DocumentDisplay\"\r\nimport FieldsDisplay from \"../FieldDisplay\"\r\nimport ConditionalSelector from \"./ConditionalSelector\"\r\n\r\ntype ConditionalDisplayProps = {\r\n  conditional: DocumentConditional,\r\n  hideHeader?: boolean | ((section: DocumentSection) => boolean),\r\n  hideDesc?: boolean,\r\n}\r\n\r\nexport default function ConditionalDisplay({ conditional, hideHeader = false, hideDesc = false }: ConditionalDisplayProps) {\r\n  const { data } = useContext(DataContext)\r\n  let fields\r\n  if (\"path\" in conditional) {\r\n    const condVal = data.get(conditional.value).value\r\n    fields = condVal && conditional.states[condVal]?.fields\r\n  } else /* if (\"path\" in Object.entries(conditional.states)[0]) */ {\r\n    fields = Object.values(conditional.states).flatMap(state => {\r\n      const stateVal = data.get(state.value).value\r\n      return stateVal ? state.fields : []\r\n    })\r\n  }\r\n  return <CardDark>\r\n    {!evalIfFunc(hideHeader, conditional) && <HeaderDisplay header={conditional.header} hideDesc={hideDesc} />}\r\n    <CardContent sx={{ p: 0, \"&:last-child\": { pb: 0 } }}>\r\n      <ConditionalSelector conditional={conditional} />\r\n    </CardContent>\r\n    {fields && <FieldsDisplay fields={fields} />}\r\n  </CardDark>\r\n}\r\n","import { Box, Divider, Typography } from \"@mui/material\"\r\nimport { useContext } from \"react\"\r\nimport { DataContext } from \"../Context/DataContext\"\r\nimport { DocumentSection, IDocumentFields, IDocumentHeader, IDocumentText } from \"../Types/sheet\"\r\nimport { evalIfFunc } from \"../Util/Util\"\r\nimport CardDark from \"./Card/CardDark\"\r\nimport CardHeaderCustom from \"./Card/CardHeaderCustom\"\r\nimport ConditionalDisplay from \"./Conditional/ConditionalDisplay\"\r\nimport FieldsDisplay from \"./FieldDisplay\"\r\nimport { InfoTooltipInline } from \"./InfoTooltip\"\r\n\r\ntype DocumentDisplayProps = {\r\n  sections: DocumentSection[],\r\n  teamBuffOnly?: boolean,\r\n  hideDesc?: boolean,\r\n  hideHeader?: boolean | ((section: DocumentSection) => boolean),\r\n}\r\n\r\nexport default function DocumentDisplay({ sections, teamBuffOnly, hideDesc = false, hideHeader = false }: DocumentDisplayProps) {\r\n  const { data } = useContext(DataContext)\r\n  if (!sections.length) return null\r\n  const sectionDisplays = sections.map((s, i) => {\r\n    // If we can't show this section, return null\r\n    if (s.canShow && !data.get(s.canShow).value) return null\r\n    // If we are showing only teambuffs, and this section is not a teambuff, return null\r\n    if (teamBuffOnly && !s.teamBuff) return null\r\n    return <SectionDisplay section={s} key={i} hideDesc={hideDesc} hideHeader={hideHeader} />\r\n  }).filter(s => s)\r\n  if (!sectionDisplays.length) return null\r\n  return <Box display=\"flex\" flexDirection=\"column\" gap={1}>{sectionDisplays}</Box>\r\n}\r\n\r\nfunction SectionDisplay({ section, hideDesc = false, hideHeader = false }: { section: DocumentSection, hideDesc?: boolean, hideHeader?: boolean | ((section: DocumentSection) => boolean) }) {\r\n  if (\"fields\" in section) {\r\n    return <FieldsSectionDisplay section={section} hideDesc={hideDesc} hideHeader={hideHeader} />\r\n  } else if (\"states\" in section) {\r\n    return <ConditionalDisplay conditional={section} hideDesc={hideDesc} hideHeader={hideHeader} />\r\n  } else /* if (\"text\" in section) */ {\r\n    return <TextSectionDisplay section={section} />\r\n  }\r\n}\r\n\r\nfunction FieldsSectionDisplay({ section, hideDesc, hideHeader }: { section: IDocumentFields, hideDesc?: boolean, hideHeader?: boolean | ((section: DocumentSection) => boolean) }) {\r\n  return <CardDark>\r\n    {!evalIfFunc(hideHeader, section) && section.header &&\r\n      <HeaderDisplay header={section.header} hideDesc={hideDesc} hideDivider={section.fields.length === 0} />\r\n    }\r\n    <FieldsDisplay fields={section.fields} />\r\n  </CardDark>\r\n}\r\n\r\nfunction TextSectionDisplay({ section }: { section: IDocumentText }) {\r\n  const { data } = useContext(DataContext)\r\n  return <div>\r\n    {evalIfFunc(section.text, data)}\r\n  </div>\r\n}\r\n\r\nexport function HeaderDisplay({ header, hideDesc, hideDivider }: { header: IDocumentHeader, hideDesc?: boolean, hideDivider?: boolean | ((section: DocumentSection) => boolean) }) {\r\n  const { data } = useContext(DataContext)\r\n  const { icon: preicon, title, action } = header\r\n  const icon = evalIfFunc(preicon, data)\r\n  const description = !hideDesc && evalIfFunc(header.description, data)\r\n  const displayTitle = hideDesc ? title : <span>{title}<InfoTooltipInline title={<Typography>{description}</Typography>} /></span>\r\n  return <>\r\n    <CardHeaderCustom avatar={icon} title={displayTitle} action={action} />\r\n    {!hideDivider && <Divider />}\r\n  </>\r\n}\r\n","import { Button, ButtonGroup, MenuItem } from '@mui/material';\r\nimport { useCallback } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ambiguousLevel, ambiguousLevelLow, ascensionMaxLevel, ascensionMaxLevelLow, maxLevel, maxLevelLow, milestoneLevels, milestoneLevelsLow } from '../Data/LevelData';\r\nimport { Ascension } from '../Types/consts';\r\nimport { clamp } from '../Util/Util';\r\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from './CustomNumberInput';\r\nimport DropdownButton from './DropdownMenu/DropdownButton';\r\n\r\nexport default function LevelSelect({ level, ascension, setBoth, useLow = false }: { level: number, ascension: Ascension, setBoth: (action: { level?: number, ascension?: Ascension }) => void, useLow?: boolean }) {\r\n  const { t } = useTranslation(\"ui\")\r\n  const ascensionMaxLevels = useLow ? ascensionMaxLevelLow : ascensionMaxLevel\r\n  const setLevel = useCallback((level = 1) => {\r\n    level = clamp(level, 1, useLow ? maxLevelLow : maxLevel)\r\n    const ascension = ascensionMaxLevels.findIndex(ascenML => level <= ascenML) as Ascension\r\n    setBoth({ level, ascension })\r\n  }, [setBoth, ascensionMaxLevels, useLow])\r\n  const setAscension = useCallback(() => {\r\n    const lowerAscension = ascensionMaxLevels.findIndex(ascenML => level !== 90 && level === ascenML) as Ascension\r\n    if (ascension === lowerAscension) setBoth({ ascension: (ascension + 1) as Ascension })\r\n    else setBoth({ ascension: lowerAscension })\r\n  }, [setBoth, ascensionMaxLevels, ascension, level])\r\n  return <ButtonGroup sx={{ bgcolor: t => t.palette.contentDark.main }} >\r\n    <CustomNumberInputButtonGroupWrapper >\r\n      <CustomNumberInput onChange={setLevel} value={level}\r\n        startAdornment=\"Lv. \"\r\n        inputProps={{ min: 1, max: 90, sx: { textAlign: \"center\", width: \"3em\" } }}\r\n        sx={{ height: \"100%\", pl: 2 }} />\r\n    </CustomNumberInputButtonGroupWrapper>\r\n    <Button sx={{ pl: 1, whiteSpace: 'nowrap' }} disabled={!(useLow ? ambiguousLevelLow : ambiguousLevel)(level)} onClick={setAscension}><strong>/ {ascensionMaxLevel[ascension]}</strong></Button>\r\n    <DropdownButton title={t(\"selectlevel\")} sx={{ flexGrow: 1 }}>\r\n      {[...(useLow ? milestoneLevelsLow : milestoneLevels)].map(([lv, as]) => {\r\n        const selected = lv === level && as === ascension\r\n        return <MenuItem key={`${lv}/${as}`} selected={selected} disabled={selected} onClick={() => setBoth({ level: lv, ascension: as })}>\r\n          {lv === ascensionMaxLevels[as] ? `Lv. ${lv}` : `Lv. ${lv}/${ascensionMaxLevels[as]}`}\r\n        </MenuItem>\r\n      })}\r\n    </DropdownButton>\r\n  </ButtonGroup>\r\n}\r\n","import { MenuItem } from \"@mui/material\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { allRefinement, Refinement } from \"../Types/consts\"\r\nimport DropdownButton from \"./DropdownMenu/DropdownButton\"\r\n\r\nexport default function RefinementDropdown({ refinement, setRefinement }: { refinement: Refinement, setRefinement: (r: Refinement) => void }) {\r\n  const { t } = useTranslation(\"ui\")\r\n  return <DropdownButton title={t(\"refinement\", { value: refinement })}>\r\n    {allRefinement.map(r =>\r\n      <MenuItem key={r} onClick={() => setRefinement(r)} selected={refinement === r} disabled={refinement === r}>\r\n        {t(\"refinement\", { value: r })}\r\n      </MenuItem>)}\r\n  </DropdownButton>\r\n}\r\n","import { weaponAsset } from \"@genshin-optimizer/g-assets\"\r\nimport { Lock, LockOpen } from \"@mui/icons-material\"\r\nimport { Box, Button, ButtonGroup, CardContent, CardHeader, Divider, Grid, ListItem, Typography } from \"@mui/material\"\r\nimport React, { useCallback, useContext, useEffect, useMemo } from \"react\"\r\nimport CardDark from \"../Components/Card/CardDark\"\r\nimport CardLight from \"../Components/Card/CardLight\"\r\nimport { LocationAutocomplete } from \"../Components/Character/LocationAutocomplete\"\r\nimport CloseButton from \"../Components/CloseButton\"\r\nimport DocumentDisplay from \"../Components/DocumentDisplay\"\r\nimport { FieldDisplayList, NodeFieldDisplay } from \"../Components/FieldDisplay\"\r\nimport LevelSelect from \"../Components/LevelSelect\"\r\nimport ModalWrapper from \"../Components/ModalWrapper\"\r\nimport RefinementDropdown from \"../Components/RefinementDropdown\"\r\nimport { StarsDisplay } from \"../Components/StarDisplay\"\r\nimport { DataContext } from \"../Context/DataContext\"\r\nimport { getCharSheet } from \"../Data/Characters\"\r\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\"\r\nimport { milestoneLevelsLow } from \"../Data/LevelData\"\r\nimport { getWeaponSheet } from \"../Data/Weapons\"\r\nimport { DatabaseContext } from \"../Database/Database\"\r\nimport { uiInput as input } from \"../Formula\"\r\nimport { computeUIData, dataObjForWeapon } from \"../Formula/api\"\r\nimport useBoolState from \"../ReactHooks/useBoolState\"\r\nimport useDBMeta from \"../ReactHooks/useDBMeta\"\r\nimport useWeapon from \"../ReactHooks/useWeapon\"\r\nimport { LocationKey } from \"../Types/consts\"\r\nimport { ICachedWeapon } from \"../Types/weapon\"\r\nconst WeaponSelectionModal = React.lazy(() => import('../Components/Weapon/WeaponSelectionModal'))\r\ntype WeaponStatsEditorCardProps = {\r\n  weaponId: string\r\n  footer?: boolean\r\n  onClose?: () => void\r\n  extraButtons?: JSX.Element\r\n}\r\nexport default function WeaponEditor({\r\n  weaponId: propWeaponId,\r\n  footer = false,\r\n  onClose,\r\n  extraButtons\r\n}: WeaponStatsEditorCardProps) {\r\n  const { data } = useContext(DataContext)\r\n\r\n  const { database } = useContext(DatabaseContext)\r\n  const weapon = useWeapon(propWeaponId)\r\n  const { key = \"\", level = 0, refinement = 1, ascension = 0, lock, location = \"\", id } = weapon ?? {}\r\n  const weaponSheet = key ? getWeaponSheet(key) : undefined\r\n\r\n  const weaponDispatch = useCallback((newWeapon: Partial<ICachedWeapon>) => {\r\n    database.weapons.set(propWeaponId, newWeapon)\r\n  }, [propWeaponId, database])\r\n  const { gender } = useDBMeta()\r\n  const characterSheet = useMemo(() => location ? getCharSheet(database.chars.LocationToCharacterKey(location), gender) : undefined, [database, gender, location])\r\n\r\n  const initialWeaponFilter = characterSheet && characterSheet.weaponTypeKey\r\n\r\n  const setLocation = useCallback((k: LocationKey) => id && database.weapons.set(id, { location: k }), [database, id])\r\n  const filter = useCallback((cs: CharacterSheet) => cs.weaponTypeKey === weaponSheet?.weaponType, [weaponSheet])\r\n\r\n  const [showModal, onShowModal, onHideModal] = useBoolState()\r\n  const img = key ? weaponAsset(key, ascension >= 2) : \"\"\r\n\r\n  //check the levels when switching from a 5* to a 1*, for example.\r\n  useEffect(() => {\r\n    if (!weaponSheet || !weaponDispatch || weaponSheet.key !== weapon?.key) return\r\n    if (weaponSheet.rarity <= 2 && (level > 70 || ascension > 4)) {\r\n      const [level, ascension] = milestoneLevelsLow[0]\r\n      weaponDispatch({ level, ascension })\r\n    }\r\n  }, [weaponSheet, weapon, weaponDispatch, level, ascension])\r\n\r\n\r\n  const weaponUIData = useMemo(() => weaponSheet && weapon && computeUIData([weaponSheet.data, dataObjForWeapon(weapon)]), [weaponSheet, weapon])\r\n  return <ModalWrapper open={!!propWeaponId} onClose={onClose} containerProps={{ maxWidth: \"md\" }}><CardLight>\r\n    <WeaponSelectionModal ascension={ascension} show={showModal} onHide={onHideModal} onSelect={k => weaponDispatch({ key: k })} weaponTypeFilter={initialWeaponFilter} />\r\n    <CardContent >\r\n      {weaponSheet && weaponUIData && <Grid container spacing={1.5}>\r\n        <Grid item xs={12} sm={3}>\r\n          <Grid container spacing={1.5}>\r\n            <Grid item xs={6} sm={12}>\r\n              <Box component=\"img\" src={img} className={`grad-${weaponSheet.rarity}star`} sx={{ maxWidth: 256, width: \"100%\", height: \"auto\", borderRadius: 1 }} />\r\n            </Grid>\r\n            <Grid item xs={6} sm={12}>\r\n              <Typography><small>{weaponSheet.description}</small></Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item xs={12} sm={9} sx={{ display: \"flex\", flexDirection: \"column\", gap: 1 }}>\r\n          <Box display=\"flex\" gap={1} flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <ButtonGroup>\r\n              <Button color=\"info\" onClick={onShowModal} >{weaponSheet?.name ?? \"Select a Weapon\"}</Button>\r\n              {weaponSheet?.hasRefinement && <RefinementDropdown refinement={refinement} setRefinement={r => weaponDispatch({ refinement: r })} />}\r\n              {extraButtons}\r\n            </ButtonGroup>\r\n          </Box>\r\n          <Box display=\"flex\" gap={1} flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            {weaponSheet && <LevelSelect level={level} ascension={ascension} setBoth={weaponDispatch} useLow={!weaponSheet.hasRefinement} />}\r\n            <Button color=\"error\" onClick={() => id && database.weapons.set(id, { lock: !lock })} startIcon={lock ? <Lock /> : <LockOpen />}>\r\n              {lock ? \"Locked\" : \"Unlocked\"}\r\n            </Button>\r\n          </Box>\r\n          <StarsDisplay stars={weaponSheet.rarity} />\r\n          <Typography variant=\"subtitle1\"><strong>{weaponSheet.passiveName}</strong></Typography>\r\n          <Typography gutterBottom>{weaponSheet.passiveName && weaponSheet.passiveDescription(weaponUIData.get(input.weapon.refineIndex).value)}</Typography>\r\n          <Box display=\"flex\" flexDirection=\"column\" gap={1}>\r\n            <CardDark >\r\n              <CardHeader title={\"Main Stats\"} titleTypographyProps={{ variant: \"subtitle2\" }} />\r\n              <Divider />\r\n              <FieldDisplayList>\r\n                {[input.weapon.main, input.weapon.sub, input.weapon.sub2].map(node => {\r\n                  const n = weaponUIData.get(node)\r\n                  if (n.isEmpty || !n.value) return null\r\n                  return <NodeFieldDisplay key={JSON.stringify(n.info)} node={n} component={ListItem} />\r\n                })}\r\n              </FieldDisplayList>\r\n            </CardDark>\r\n            {data && weaponSheet.document && <DocumentDisplay sections={weaponSheet.document} />}\r\n          </Box>\r\n        </Grid>\r\n      </Grid>}\r\n    </CardContent>\r\n    {footer && id && <CardContent sx={{ py: 1 }}>\r\n      <Grid container spacing={1}>\r\n        <Grid item flexGrow={1}>\r\n          <LocationAutocomplete location={location} setLocation={setLocation} filter={filter} autoCompleteProps={{ getOptionDisabled: t => !t.key}} />\r\n        </Grid>\r\n        <Grid item flexGrow={2} />\r\n        {!!onClose && <Grid item><CloseButton sx={{ height: \"100%\" }} large onClick={onClose} /></Grid>}\r\n      </Grid>\r\n    </CardContent>}\r\n  </CardLight ></ModalWrapper>\r\n}\r\n"],"names":["d","CardHeaderCustom","avatar","title","action","display","gap","p","alignItems","variant","sx","flexGrow","ConditionalSelector","conditional","disabled","Object","keys","states","length","SimpleConditionalSelector","ExclusiveConditionalSelector","MultipleConditionalSelector","character","characterDispatch","useContext","CharacterContext","data","DataContext","setConditional","useCallback","v","conditionalValues","deepClone","layeredAssignment","path","deletePropPath","conditionalValue","get","value","stateKey","st","entries","badge","getStateBadge","name","condName","getCondName","Button","fullWidth","size","borderRadius","color","onClick","undefined","startIcon","CheckBox","CheckBoxOutlineBlank","state","SqBadge","DropdownButton","MenuItem","selected","Divider","map","ButtonGroup","orientation","disableElevation","isSelected","isElement","disp","stateName","badgeColor","badgeText","props","children","ml","key","key18","ns","values","Translate","useBadge","ConditionalDisplay","hideHeader","hideDesc","fields","condVal","flatMap","CardDark","evalIfFunc","HeaderDisplay","header","CardContent","pb","DocumentDisplay","sections","teamBuffOnly","sectionDisplays","s","i","canShow","teamBuff","SectionDisplay","section","filter","Box","flexDirection","FieldsSectionDisplay","TextSectionDisplay","hideDivider","text","icon","preicon","description","displayTitle","InfoTooltip","Typography","LevelSelect","level","ascension","setBoth","useLow","t","useTranslation","ascensionMaxLevels","ascensionMaxLevelLow","ascensionMaxLevel","setLevel","clamp","maxLevelLow","maxLevel","findIndex","ascenML","setAscension","lowerAscension","bgcolor","palette","contentDark","main","onChange","startAdornment","inputProps","min","max","textAlign","width","height","pl","whiteSpace","ambiguousLevelLow","ambiguousLevel","milestoneLevelsLow","milestoneLevels","lv","as","RefinementDropdown","refinement","setRefinement","allRefinement","r","WeaponSelectionModal","React","WeaponEditor","weaponId","propWeaponId","footer","onClose","extraButtons","database","DatabaseContext","weapon","useWeapon","lock","location","id","weaponSheet","getWeaponSheet","weaponDispatch","newWeapon","weapons","set","gender","useDBMeta","characterSheet","useMemo","getCharSheet","chars","LocationToCharacterKey","initialWeaponFilter","weaponTypeKey","setLocation","k","cs","weaponType","showModal","onShowModal","onHideModal","useBoolState","img","weaponAsset","useEffect","rarity","weaponUIData","computeUIData","dataObjForWeapon","open","containerProps","maxWidth","show","onHide","onSelect","weaponTypeFilter","container","spacing","item","xs","sm","component","src","className","flexWrap","justifyContent","hasRefinement","stars","passiveName","gutterBottom","passiveDescription","input","titleTypographyProps","node","n","isEmpty","ListItem","JSON","stringify","info","document","py","autoCompleteProps","getOptionDisabled","large"],"sourceRoot":""}